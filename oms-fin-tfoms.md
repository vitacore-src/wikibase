<!-- TITLE: ОМС-Финанс (ТФОМС)-->
<!-- SUBTITLE: Рабочая инструкция пользователясистемы «ВИТАКОР» -->

# Введение

Программа предназначена для формирования планового задания медицинской организации (создания заявки, утверждения, корректировки), автоматизированного обмена данными между территориальным фондом ОМС, медицинскими организациями и страховыми медицинскими компаниями, формирования отчетов на бумажных и электронных носителях.

# Сокращения

* 	МО – Медицинская организация
* 	МП – Медицинская помощь
* 	ОМС – Обязательное медицинское страхование
* 	ОС – Операционная система
* 	СМО – Страховая медицинская организация
* 	БД – База данных

# 	Основные действия пользователя

## 	Запуск приложения

При установке приложения на компьютер пользователя администратор создает ярлык быстрого доступа к приложению. Как правило, ярлык создается на рабочем столе Windows, в списке программ и на панели быстрого запуска и имеет подсказку, соответствующую наименованию программы.

При запуске приложения проверяется наличие обновлений программного обеспечения. Если они обнаружены, производится обновление клиентского приложения на компьютере пользователя. Если обновления отсутствуют, об этом выводится сообщение (см. **Ошибка! Источник ссылки не найден.**).

![1](/uploads/00003/1.png "1")  ![2](/uploads/00003/2.png "2")

Затем запускается само приложение, которое первым шагом запрашивает авторизацию пользователя – его имя и пароль. Соответствующий диалог показан на Рис. 1.2.

После успешной авторизации открывается главное окно приложения. Если авторизация не выполнена (введено несуществующее имя пользователя или неправильный пароль) или пользователь отказался от авторизации кнопкой <Отмена>, приложение не запускается.

## 	Выход из приложения

Выход из приложения по окончании работы может быть произведен:
* 	с помощью главного меню приложения: <Файл>  <Выход>;
* 	стандартным приемом закрытия экранной формы (кнопка закрытия в правом верхнем углу главного окна приложения или нажатие клавиш [Alt+F4]).
* 	
В любом случае при попытке выхода из программы система выведет запрос на подтверждение, показанный на рисунке ниже. Подтверждение запрашивается во избежание случайного закрытия окна программы.

![3](/uploads/00003/3.png "3")

## 	Смена пароля

Пользователь при необходимости может изменить свой пароль входа в систему. Это делается с помощью главного меню приложения: <Настройки> <Сменить пароль>. При этом выводится диалоговое окно изменения пароля, показанное на рис.1.4.

![4](/uploads/00003/4.png "4")

В окне диалога требуется ввести действующий (текущий) пароль, новый пароль и затем подтвердить новый пароль повторным вводом в поле «Подтверждение». Кнопка <ОК> сохранит информацию об измененном пароле в базе данных. При следующем входе в систему потребуется ввод нового пароля. Кнопкой <Отмена> можно отказаться от операции изменения пароля.

# 	Базовые сведения о системе

## 	Организация доступа

Поскольку приложения работают с базами данных, информация в которых может быть конфиденциальной, пользователь системы должен быть зарегистрирован. Регистрация пользователя производится администратором и означает создание для каждого пользователя учетной записи, которая хранится в базе данных системы. Учетная запись содержит сведения о пользователе, позволяющие его идентифицировать, имя пользователя (логин), данные о пароле и о правах, предоставленных данному пользователю.

Под правами пользователя понимаются права доступа к функциям системы, сущностям и т.д.

Имя пользователя, или логин - это уникальный идентификатор пользователя в рамках системы. Пароль представляет собой строку текста, которую должен знать только пользователь системы. Это позволяет обеспечить соответствие логина пользователя и реального человека.

Регистрация пользователей ведется с целью обеспечения сохранности данных системы путем контроля доступа к данным, ведения журнала действий пользователя и т.д. Поэтому при входе в систему обязательно производится т.н. авторизация (или аутентификация) пользователя. Авторизация – это процесс идентификации (определения) пользователя системы, который аналогичен процессу установления личности, например, при обращении в банк.

## 	Интерфейс

Все, с помощью чего информационная система обменивается информацией с внешним миром, называется интерфейсом. Интерфейс может быть визуальным – например: окна, экранные формы, отчеты и т.д., которые видит пользователь при работе с системой; и не визуальным – интерфейсы для обмена данными с другими информационными системами или оборудованием.

В операционной среде Windows основными элементами визуального интерфейса являются окна (экранные формы). Экранные формы содержат различные визуальные элементы для представления данных, а также для управления данными и самими формами. Элементы управления могут быть различными по назначению и сложности, но их набор ограничен для удобства работы с системой – для решения однотипных задач используются однотипные элементы. Базовые визуальные элементы управления экранных форм описаны в п.4 настоящего руководства. Более сложные и специализированные элементы управления описаны в соответствующих разделах настоящего руководства и отдельных руководствах по модулям системы.

Как и большинство Windows-приложений, программы компании «Витакор» имеют т.н. главное окно, которое открывается при запуске системы и предоставляет доступ ко всем функциям приложения. Структура и функции главного окна описаны в п.3.

При работе с приложениями следует иметь в виду, что многие элементы интерфейса системы (пункты меню, кнопки и т.д.) контекстно-зависимы, т.е. их состав, внешний вид и доступность могут изменяться в зависимости текущего режима работы программы и прав доступа, предоставленных пользователю приложения.

## 	Контроль ввода данных (валидация)

Экранные формы, предназначенные для ввода данных в систему, имеют встроенные инструменты контроля правильности вводимых данных (валидации). Для контроля ввода данных применяются:
* 	поля ввода данных определенного типа (числовые поля не допускают ввод букв и т.д.),
* 	маски ввода (см. ниже),
* 	ограничение вводимых данных списками выбора и справочниками,
* 	процедуры проверки данных при переходе на другой элемент формы ввода данных,
* 	процедуры проверки данных при сохранении формы ввода данных.
Маска ввода представляет собой шаблон, применяемый в тех случаях, когда вводимое значение имеет строгий формат. Шаблон может ограничивать количество символов, перечень допустимых символов, а также позволяет включать автоматически обязательные символы. Для пользователя маска ввода выглядит как строка символов. Очень часто маску применяют при вводе даты, телефонного номера и т.д., т.к. они имеют определенный формат. Например, маска ввода даты может иметь вид «__.__.____» или «__.__.». Символ подчеркивания в маске соответствует позиции ввода. Остальные символы являются составной частью вводимого значения – точка, дефис, пробел, скобки и т.д.

Даже если введенное значение удовлетворяет требованию формата, оно может быть некорректным по смыслу. Например, правильно введенная дата окончания периода может быть меньше даты начала периода. Такого рода ситуации отслеживаются специальными процедурами валидации. При обнаружении ошибок процедурами валидации выводятся специальные сообщения (см. п. 10.3).

## 	Терминология и приемы работы
В дальнейшем при описании функциональности приложения используются следующие термины:

|  | |
|:------------- |:---------------:|
|Курсор|Средство отображения текущей позиции для ввода текста на экране. В полях ввода данных имеет вид вертикальной черты. В списках и табличных формах курсор имеет вид выделенной контрастным цветом строки или ячейки списка (таблицы). Курсор также является средством отображения наличия фокуса на данном элементе управления.|
|Указатель мыши|Указатель мыши предоставляет альтернативный по отношению к клавиатуре способ доступа к элементам визуального интерфейса системы. Указатель мыши может иметь различные формы в зависимости от текущего контекста:<br> ![4 11](/uploads/00003/4-11.png "4 11") -стандартный вид указателя,<br> ![4 22](/uploads/00003/4-22.png "4 22") -вид, применяемый при наведении указателя на ссылку,<br> ![4 33](/uploads/ktt/4-33.png "4 33") -вид, применяемый при помещении в область текстового поля.|
|Щелчок (или клик) кнопкой мыши|Если не указано иное, имеется в виду одинарный щелчок левой кнопкой мыши (т.е. нажатие и отпускание кнопки).|
|Двойной щелчок (двойной клик)|Комбинация двух щелчков подряд левой кнопкой мыши|
|Перетаскивание|Действие, когда пользователь, наведя указатель мыши на нужный объект интерфейса, нажимает левую кнопку мыши, и, удерживая ее нажатой, перемещает указать мыши в определенное место интерфейса системы. Во время операции перетаскивания указатель мыши может принимать вид:<br> ![4 1](/uploads/00003/4-1.png "4 1") -обычное перетаскивание,<br> ![4 11](/uploads/00003/4-11.png "4 11") -перетаскивание с копированием,<br> ![4 2](/uploads/00003/4-2.png "4 2") -такой вид указатель принимает при попытке перетащить мышью объект в недопустимое место экранной формы.
|Горячие клавиши|За определенной функцией приложения может быть зарезервирована определенная клавиша или, чаще всего, комбинация клавиш клавиатуры. Эти так называемые «горячие» клавиши позволяют осуществить быстрый вызов данной функции системы без использования таких средств навигации, как перемещение по форме с помощью мыши, клавиши [Tab] или пунктов меню системы.<br>Доступ к функциям с помощью горячих клавиш подчиняется тем же правилам, что и доступ с помощью визуальных элементов интерфейса. Т.е. если в данный момент функция недоступна для выбора, горячие клавиши также не сработают.|

Любой элемент управления экранной формы может приобретать и терять «фокус», т.е. становиться активным или неактивным. Активный элемент (находящийся в фокусе, или «имеющий фокус») готов к получению данных (готов к приему команды). Наличие фокуса отображается визуально – как правило, с помощью пунктирной рамки, охватывающей площадь элемента управления. Для некоторых элементов индикатор активности может выглядеть по-другому и это включено в описание соответствующего элемента управления в разделе 3.

Перемещение фокуса между элементами управления формы производится либо с помощью мыши, либо с помощью клавиши [Tab]. Нажатие [Tab] переключает фокус на элемент, следующий по порядку  за текущим. [Shift+Tab] – позволяет перемещаться по элементам формы в обратном порядке. Клик мышью на элементе передает ему фокус независимо от установленного порядка следования элементов на форме. С помощью клавиатуры изменять состояние элемента можно, только если он находится в фокусе.

В случае использования мыши сам внешний вид элемента подсказывает возможные действия (кнопки нажимаются кликом мыши, элементы списка выбираются двойным кликом и т.д.). При использовании клавиатуры необходимо запомнить простые правила работы с определенными элементами правления (эти правила приведены в описаниях элементов). При использовании мыши не требуется знать правил обращения с элементами управления, но при помощи клавиатуры скорость работы с формами ввода данных может быть значительно выше.


# 	Главное окно приложения

![5](/uploads/00003/5.png "5")


Главное окно приложения   содержит следующие области:
* 	Заголовок окна приложения содержит пиктограмму, наименование приложения и имя (логин) текущего пользователя системы.
* 	Под заголовком окна располагается главное меню системы.
* 	Ниже главного меню располагается панель инструментов приложения, содержащая контекстно-зависимый  набор кнопок быстрого доступа к функциям системы.
* 	Всю нижнюю часть формы занимает панель статуса, на которой отображается дополнительная информация при работе с приложением.
* 	Оставшуюся часть окна делят панель структуры приложения (слева) и панель отображения данных (справа).

Интерфейс приложения является многооконным, т.е. в рамках главного окна может быть открыто множество подокон (далее – просто «окно») для отображения данных.

Элементы управления приложения (пункты меню, кнопки и пр.), недоступные в соответствии с заданными правами пользователя, скрываются. Т.е. пользователи системы, имеющие различные наборы прав, могут видеть разный состав пунктов меню системы и разный набор кнопок.

## 	Главное меню

Главное меню приложения представляет собой набор пунктов меню, состав которого зависит от вида приложения. При этом оно всегда содержит пункты, описанные в таблице:

|  | |
|:------------- |:---------------|
 |<Файл>	|Меню «Файл» включает пункты для управления запущенным приложением:<br><Закрыть><br><Выход> - закрыть главное окно приложения (выйти из программы).
|<Сервис>	|Предоставляет доступ к сервисным функциям приложения.|
|<Настройки>	|Меню включает подпункты, соответствующие функциям для настройки приложения, т.е. указания различных базовых параметров, влияющих на функциональность системы. |
|<Отчеты>	|Меню содержит список отчетов|
|<Окно>	|Меню содержит функции управления окнами приложения (подробно о работе с окнами системы см. п.3.5):<br> <Закрыть все> - позволяет закрыть все открытые окна приложения,<br><Окна…> - отображает полный список открытых окон системы для управления ими: переключения в выбранное окно или его закрытие.<br>Переключатель <Папки> включает/отключает отображение панели структуры приложения (см. п.3.3)<br>Переключатель <Избранное> включает/отключает отображение панели «Избранное» (см. п.33.4).|
|<Справка>	|Меню для предоставления справочной информации о системе:<br><О программе…> показывает диалоговое окно с отображением базовой информации о системе: производителе системы, номерах версий, установленных компонентах и пр.,<br><Новости> открывает в области данных окно с новостями разработчика приложения.|

Троеточие, добавляемое в конце заголовка пункта меню, означает, что выбор пункта меню откроет дополнительное диалоговое окно перед непосредственным выполнением команды.
Горячие клавиши (см. Табл. 4.1), соответствующие пункту меню системы, указываются после заголовка пункта меню, например <Закрыть Alt+A>.


## 	Панель инструментов

Панель инструментов приложения является контекстно-зависимой и разбита на несколько областей:
* 	Кнопки быстрого доступа – их набор зависит от вида запущенного приложения;
* 	Область управления активным окном (как правило, содержит кнопки сохранения, добавления удаления, и т.п.) их набор зависит от типа окна (список, форма ввода) и конкретного вида окна. Элементы панели инструментов описаны для каждого конкретного вида формы в соответствующих руководствах.


## 	Панель структуры («Папки»)

Панель структуры приложения содержит древовидный (иерархический) список, позволяющий отобразить перечень задач системы, сгруппированных по разделам (папкам). В дереве папок видны только те разделы, к которым у пользователя есть доступ в соответствии с его правами.

Панель структуры отображается по умолчанию, но может быть скрыта (например, для высвобождения места для панели отображения данных) с помощью переключателя <Окно><Папки> главного меню приложения. Этот же переключатель позволяет вновь отобразить панель, когда это необходимо.

Двойной клик мышью на заголовке раздела, не имеющего вложенных элементов (подразделов), открывает окно (форму) в области отображения данных (см. п. 3.5), соответствующее данному разделу.


## 	Панель «Избранное»

С помощью панели «Избранное» может быть настроен быстрый доступ к данным системы. На эту панель с помощью перетаскивания мышью может быть помещена любая из форм, открытых в области отображения данных или даже конкретная запись из открытой табличной формы.
Содержимое панели организуется в виде древовидного списка. Для организации содержимого панели можно создавать папки и подпапки с помощью контекстного меню.

Папки и ярлыки на панели «Избранное» видны только пользователю, создавшему их.

## Область отображения данных

Каждая новая открытая форма (окно) приложения помещается в область отображения данных в виде вкладки (исключение составляют так называемые диалоговые окна, см. п. 10). В верхней части области данных располагаются ярлыки всех открытых в данный момент вкладок, каждый ярлык содержит заголовок открытой формы. Всю остальную площадь области отображения данных занимает содержимое активной на данный момент вкладки. Ярлыки позволяют видеть, какие формы (окна) системы открыты, и переключаться между ними.

В правом верхнем углу области расположены кнопки управления набором вкладок. Кнопки стрелок (влево и вправо) ![1 11111](/uploads/00003/1-11111.jpg "1 11111")  позволяют переместить фокус с текущей вкладки на соседнюю (сделать активной вкладку) слева или справа. Кнопка ![2 222222](/uploads/00003/2-222222.jpg "2 222222")  позволяет закрыть текущую активную вкладку.

Если на вкладке имеются несохраненные данные, в заголовке вкладки отображается символ «\*». При попытке закрытия такой вкладки будет выведен запрос на сохранение внесенных изменений.
Если вкладок открыто много и все ярлыки не помещаются в видимой части формы, управлять открытыми окнами можно с помощью пункта главного меню <Окно>.

# 4.	Базовые элементы интерфейса

Данный раздел описывает базовые универсальные элементы, с помощью которых строятся интерфейсы приложений. К базовым элементам относятся простейшие элементы, такие как кнопки, поля и т.п., из которых строятся экранные формы в Windows.
Элемент управления, недоступный пользователю в текущий момент времени, будет представлен в сером цвете, например: ![5 1](/uploads/00003/5-1.jpg "5 1") . Поля ввода, недоступные для изменения, имеют серый цвет фона.

## 	Кнопка
Один из самых распространенных элементов управления. Представляет собой область формы, обозначенную пиктограммой и/или надписью, и которая может быть нажата с помощью мыши или клавиши [Enter] (при условии, что кнопка находится в фокусе).

Нажатие на кнопку запускает выполнение какой-либо функции приложения. Кнопки могут иметь различный внешний вид, например:
* 	![5 2](/uploads/00003/5-2.jpg "5 2") - классический («объемный») вид кнопки (как правило, используется в диалоговых окнах),
* 	![5 3](/uploads/00003/5-3.jpg "5 3")  - «плоский» вид кнопки (как правило, применяется в меню),
* 	![5 4](/uploads/00003/5-4.jpg "5 4")  - «плоский» вид кнопки с пиктограммой (панель инструментов),
* 	![5 5](/uploads/00003/5-5.jpg "5 5")  - кнопка, имеющая вид ссылки,
* 	![5 6](/uploads/00003/5-6.png "5 6")  - альтернативный вариант отображения кнопки экранной формы.
Наиболее часто используемые кнопки <ОК> и <Отмена> предназначены для подтверждения пользователем сделанного выбора, внесенных изменений и т.п. и отказа от них соответственно.

Наличие справа от подписи кнопки значка ![3 3333333](/uploads/00003/3-3333333.jpg "3 3333333") , говорит о том, что нажатие данной кнопки откроет подменю для выбора конкретной команды.

## Поле ввода

Поле ввода служит для ввода текстовых значений пользователем с клавиатуры. Поле ввода всегда имеет подпись и выглядит, как показано на рисунке:
![6](/uploads/00003/6.jpg "6")
Признаком того, что поле ввода находится в фокусе (активно и готово ко вводу значения) является присутствие в поле курсора – мигающей вертикальной черты.
На поля ввода могут быть наложены условия, позволяющие валидировать (контролировать правильность ввода) введенные значения, такие как маска ввода, например, «_-_-_ _» - маска ввода номера СНИЛС.

Условия, наложенные на значение поля, могут никак не отображаться в самом поле ввода, но при попытке ввести или сохранить некорректное значение, пользователь увидит сообщение об ошибке.
Поле ввода может быть предназначено для ввода данных различных типов: текст, число, дата и т.д. При этом поведение полей ввода разных типов будет разным, например, поле ввода числовых значений не допускает ввода текстовых символов, только цифры, знак десятичной запятой, знак минус.

## 	Поле ввода даты

Поле ввода даты может иметь маску ввода (например «__.__.____») для упрощения и контроля процесса ввода даты. Возможные значения элементов даты перебираются нажатием кнопок [] и [] клавиатуры, при установке курсора в соответствующий раздел даты. Кроме того, поле ввода даты может быть представлено специальным элементом управления «Календарь».

Элемент управления «Календарь» предназначен для альтернативного способа ввода даты в поле ввода путем ее выбора из системного календаря. По умолчанию, как правило, календарь открывает текущий месяц и выделяет в нем текущую дату. Одинарным щелчком мыши может быть выбрана любая дата отображаемого месяца. Выбрать другой месяц можно кнопками-стрелками расположенными у заголовка месяца.
![7](/uploads/00003/7.jpg "7") 
Если поле даты уже имеет введенное значение, календарь откроется с отображением месяца, соответствующего указанной дате. 

Текущая дата при этом будет видна и доступна для выбора в нижней части календаря.
Поле ввода даты имеет встроенную валидацию значения и не позволит ввести некорректную или несуществующую дату (13-ый месяц, число более 31, дату 30 февраля и т.п.)

## 	Поле с выпадающим списком

Одним из способов контролировать правильность ввода данных является использование поля с выбором из фиксированного списка:     

![8](/uploads/00003/8.png "8")

Его внешний вид аналогичен обычному полю ввода с тем отличием, что в правой части поля виден дополнительный элемент-кнопка, при нажатии на которую раскрывается т.н. выпадающий список, из которого может быть выбрано нужное значение.
Если поле с выпадающим списком находится в фокусе, содержимое поля выделяется цветом. При выходе из поля выделение цветом пропадает.

С помощью клавиатуры список выбора может быть раскрыт с помощью клавиш [Alt]+[]. Перемещение по списку происходит с помощью клавиш [] и [], нужный элемент выбирается клавишей [Enter].Нажатие клавиши [] вместо [Alt]+[] будет последовательно перебирать возможные значения без раскрытия выпадающего списка, что может быть удобно для небольших списков выбора.

В полях типа «Дата» данная кнопка открывает элемент управления «Календарь», описанный ниже.

## 	Поле с выбором из справочника

Для обеспечения правильности и удобства ввода в поле там где это возможно, используется выбор значения из справочника. Поле с выбором из справочника имеет следующий вид:
 
 ![9](/uploads/00003/9.png "9")
 
Нажатие кнопки с многоточием открывает диалоговое окно выбора (см. п. 10.1). Аналогичный эффект достигается нажатием клавиши [F3]. Диалоговое окно позволяет найти нужное значение с помощью средств поиска/фильтрации и подтвердить выбор с помощью кнопки <OK>.
Поле с выбором из справочника позволяет начать набирать нужное значение в поле (как правило, достаточно ввести первые 2-3 символа), последующее нажатие клавиши [Tab] открывает диалоговое окно выбора, в котором список выбора отфильтрован соответствующим образом.
Текст в поле может иметь вид ссылки  .

![10](/uploads/00003/10.png "10")
                   
Курсор мыши при наведении его на такое поле принимает вид   и двойной клик левой кнопкой мыши открывает форму редактирования данного значения справочника (если это разрешено правами пользователя).

## 	Нередактируемое поле

Нередактируемые поля используются для отображения информации, которая не может быть изменена в рамках данной формы, но требуется пользователю в качестве справки. Нередактируемое поле имеет подпись, как и обычное, но его значение отображается не в поле ввода, а в виде статичного текста, выделенного жирным шрифтом, как это показано на рисунке.

![11](/uploads/00003/11.png "11")

## 	Флажок (переключатель)

Удобным элементом управления в тех случаях, когда атрибут или параметр может принимать только одно из двух значений, является «флажок», или переключатель: ![12](/uploads/00003/12.jpg "12") , который имеет два состояния – включен или выключен. Каждый клик мышью на флажке изменяет его состояние. Аналогичное действие производится с помощью клавиши [Пробел].

## 	Поле-список

Некоторые поля ввода разрешают выбор нескольких значений одновременно. В таких случаях может применяться список выбора, имеющий следующий вид:
 
![12](/uploads/00003/12.png "12")

Список содержит все возможные значения и флажки для отметки (включения) нужной позиции списка. Для перемещения по списку кроме мыши можно использовать клавиши [] и [], для отметки нужного значения - [Пробел].

## 	Древовидный список (дерево)

Иерархический список (древовидный список, дерево) используется, когда между элементами списка существуют иерархические связи. Т.е. одни элементы подчинены (входят в состав) других элементов. Начальный уровень дерева, с которого начинается ветвление, называется корневым.
Наличие символа «+» у элемента (узла) дерева означает, что в составе данного узла имеются вложенные элементы, т.е. данный раздел имеет подразделы. Щелчок мышью на значке «+» разворачивает раздел, т.е. делает видимыми и доступными для выбора его подразделы. При этом символ «+» меняется на «-». Щелчок на значке «-» сворачивает раздел (скрывает его подразделы). Аналогичный эффект имеет двойной щелчок мышью (левой кнопкой мыши) на заголовке раздела. Двойной щелчок мышью на конечном элементе дерева, т.е. не имеющем подразделов,               
открывает окно, соответствующе выбранному элементу. 
 
 ![13](/uploads/00003/13.png "13")
 
Навигация по списку с помощью клавиатуры:
•	[] и [] перемещают фокус на один элемент списка вверх или вниз от текущего;
•	[] раскрывает список подчиненных элементов выделенного узла дерева (т.е. равноценно щелчку мышью на символе «+»);
•	[] сворачивает раскрытый список подчиненных элементов (аналогично щелчку мышью на символе «-»;
•	нажатие [Enter] открывает окно отображения данных, соответствующих выделенному конечному элементу дерева;
•	[Ctrl+] и [Ctrl+] прокручивает содержимое панели влево или вправо.
Каждый узел дерева может быть снабжен пиктограммой. Чаще всего используются стандартные пиктограммы Windows для папок.

##  	Всплывающая подсказка

Для удобства пользователя и упрощения процесса изучения системы элементы управления обладают т.н. всплывающей подсказкой. Подсказка выводит на экран краткое пояснение по функциональности указанного элемента. Всплывающая подсказка появляется при наведении указателя мыши на визуальный элемент управления, как это показано на рисунке .

![14](/uploads/00003/14.jpg "14")

## 	Контекстное меню

Контекстное меню, в отличие от, например, главного меню системы, не имеет определенного положения в окне программы, а открывается в месте расположения указателя мыши и состав его пунктов зависит от ряда факторов, т.е. от текущего контекста: местоположения указателя мыши, прав пользователя и т.д.

Контекстное меню вызывается одинарным щелчком правой кнопки мыши в нужном месте экранной формы, например, при наведении указателя мыши на элемент списка, определенную панель и т.д.


## 	Прочие визуальные элементы

Перечисленные в таблице ниже элементы не являются элементами управления, а служат для организации рабочего пространства форм.

|  | |
|:------------- |:---------------|
|Панель|Панель служит для организации пространства экранной формы и, как правило, группирует однотипные элементы. Например, на Рис.  можно видеть панель главного меню, панель инструментов, панель структуры приложения и т.д.<br>Вместе с панелями часто применяется элемент «Разделитель»  для визуального разделения групп логически связанных элементов, расположенных на панели.|
|Вкладка|Элемент управления «Вкладка» является одним из способов организации доступа к экранным формам. Вкладки позволяют разместить несколько форм отображения данных в одной области окна приложения и переключаться между ними при необходимости с помощью ярлыков. Вкладка состоит из панели для размещения визуальных элементов управления и ярлыка. Ярлыки вкладок чаще всего располагаются сверху, но могут быть расположены и внизу от области отображения данных. Ярлык имеет подпись, соответствующую наименованию экранной формы. На представленном рисунке показан пример вкладок панели структуры приложения. На ней ярлыки размещены внизу и имеют подписи «Папки» и «Избранное». Вкладка «Папки» является активной (отображается «поверх» вкладки «Избранное»).<br>Переключение между вкладками производится одинарным кликом мыши на ярлыке вкладки.| 
|Полоса прокрутки|Наличие на форме или отдельном элементе управления (панели, списке, и т.п.) полосы прокрутки (горизонтальной ![15](/uploads/00003/15.jpg "15") или вертикальной) говорит о том, что не все содержимое данной области формы отображается на экране. Положение бегунка полосы прокрутки показывает, какая область формы видна, а по его размеру можно судить о8размерах невидимой области – чем он меньше, тем больше данных остаются невидимыми. Сдвиг бегунка с помощью мыши открывает скрытые участки (прокручивает содержимое) области экрана. Аналогично перемещение по содержимому области экрана с помощью клавиш навигации ([Tab] и стрелки) будет автоматически пролистывать содержимое внутри области с полосой прокрутки.|
|Сплиттер|Иногда удобно изменить соотношение по занимаемой площади между разделами формы. Например, область формы, отведенная под панель структуры приложения (см. Рис. 3.1), может быть сужена или расширена с помощью т.н. «сплиттера» - элемента управления, расположенного на границе между панелью структуры приложения и областью отображения данных. При наведении курсора мыши на эту границу он принимает вид двунаправленной стрелки. Нажав и удерживая левую кнопку мыши, можно переместить границу влево или вправо до нужного положения.|


#	Общие сведения

## 	Плановые задания медицинской организации
Плановое задание (план-задание) медицинской организации (МО) формируется путем создания медицинской организацией заявки на утверждение годовых плановых показателей, отправки ее в ТФОМС и СМО для рассмотрения и, при необходимости, создания в дальнейшем корректирующих заявок. ТФОМС утверждает годовые плановые значения и их помесячную/поквартальную разбивку. Страховая компания утверждает объемы МП, подлежащие оплате данной СМО.
Основным периодом планирования является год. При этом могут быть настроена детализация планирования по месяцам или кварталам – это определяется настройками, сделанными администратором системы.
Для плановых заданий могут быть установлены нормативы (лимиты), т.е. значения плановых показателей, которые не должны превышаться при формировании планового задания МО. Ведение лимитов описано в п. 9.

# 	Плановые задания медицинской организации
Для работы с заявками МО предназначен раздел «Плановые задания» на панели структуры приложения в левой части главного окна приложения. Раздел содержит подпапки, соответствующие различными функциям для работы с плановыми заданиями МО. Их состав описан в таблице ниже.

| Подраздел  | Описание |
| ------------- | ------------- |
|Лимиты для плановых заданий|Подраздел предназначен для ведения нормативов (лимитов) объемов МП по медицинским организациям.|
|На утверждении (годовые)|Данная папка содержит список заявок МО на утверждение годовых плановых показателей, направленных медицинской организацией на рассмотрение в ТФОМС.|
|Утвержденные|Папка содержит список заявок МО, имеющих статус «Утвержден». Это могут
Ввод плановых заданий	С помощью данного подраздела можно просмотреть полный список заявок, находящихся на всех этапах обработки.|
|На утверждении (детализированные)|Данная папка содержит список заявок МО на утверждение детализированной разбивки годовых плановых показателей, направленных медицинской организацией на рассмотрение в ТФОМС.|


Для отображения информации во всех перечисленных подразделах применяется стандартная табличная форма (см. п.11). Настоящий раздел содержит описание общих принципов работы с план-заданиями.
Каждая заявка имеет статус, соответствующий этапу ее оформления:
* 	Заявка созданная, но еще не отправленная на утверждение в фонд, имеет статус «Редактирование» (выделяется в списке черным цветом шрифта). Такая заявка может быть открыта для внесения изменений в МО.
* 	Заявка, отправленная на утверждение, но еще не утвержденная, имеет статус «На утверждении». Такая заявка недоступна для редактирования и может быть открыта только для просмотра.
* 	Утвержденная в ТФОМС заявка имеет статус «Утвержден» (зеленый цвет шрифта), выделяется в списке зеленым цветом шрифта, и частично доступна для редактирования: в утвержденной заявке нельзя изменить годовые показатели и их разбивку по месяцам/кварталам, но МО может создать/изменить разбивку по страховым компаниям.
* 	Заявки, не утвержденные фондом и подлежащие доработке, имеют статус «Не утвержден».
* 	Заявка также может иметь статус «Утвержден частично» (фиолетовый цвет шрифта), что означает, что отдельные позиции данной заявки были утверждены, а другие – отказаны по какой-либо причине.

Данный статус отображается в колонках «Статус годовой разбивки» и «Статус детализированной разбивки», поскольку годовые значения показателей и детализированные по периодам внутри года (помесячные/поквартальные) утверждаются отдельно.

## 	Утверждение годовых показателей

Утверждение годовых показателей заявки МО возможно, если медицинская организация создала, заполнила и отправила заявку на утверждение в фонд. Такие заявки становятся видны в папке «На утверждении (годовые)». Двойной щелчок на заявке открывает ее для просмотра и внесения результатов рассмотрения.

![16](/uploads/00003/16.png "16")

Верхняя часть формы содержит следующие поля:

| Реквизит формы  | Описание |
| ------------- | ------------- |
|Отчетный период|Поле для указания периода, на который формируется план-задание. Отчетный период выбирается из справочника.|
|МО	|Поле наименования медицинской организации, для которой формируется план-задание.Заполняется автоматически медицинской организацией, указанной для текущего пользователя.|
|Примечание	|Поле ввода примечания к план-заданию (произвольный текст).|
|Состояние разбивки	|Группа из двух полей, показывающих, на каком этапе формирования находится заявка: первое поле показывает статус годовых показателей, второе – статус разбивки в пределах года.|
|Индикатор состояния заявки	|Сигнализирует о корректности заполнения заявки.|

Ниже располагаются поля фильтра, позволяющие просматривать данные плана по заданным разделам планирования (см. п. 6.4).

Под полями фильтра расположена панель инструментов для обработки заявки. Описание функций (кнопок) панели инструментов приведено в таблице:

| Кнопка  | Функция  | Описание |
|:------------- |:---------------| :-------------|
|![16 1](/uploads/00003/16-1.png "16 1")|Поиск|Поиск нужной строки плана (см. п. 6.6).|
|![16 2](/uploads/00003/16-2.png "16 2")|Помесячное представление 	|Отображает в таблице плана помесячные показатели вместо годовых.|
|![16 3](/uploads/00003/16-3.png "16 3")|Просмотр и печать	|Предварительный просмотр данных, доступных в рабочей области формы, с возможностью отправки на печать.|
|![16 4](/uploads/00003/16-4.png "16 4")|Принять все позиции|Нажатие кнопки помечает все позиции заявки как утвержденные.|
|![16 5](/uploads/00003/16-5.png "16 5")|Отклонить все позиции	|Нажатие кнопки помечает все позиции заявки как отклоненные.Отдельные позиции затем могут быть помечены как принятые.|
|![16 6](/uploads/00003/16-6.png "16 6")|Утвердить	|Кнопка фиксирует текущее состояние заявки. После сохранения заявка будет выведена из статуса «На утверждении». Отклоненная или частично утвержденная заявка при этом станет вновь доступна для редактирования в медицинской организации. Кнопка доступна для еще не утвержденных заявок.|
|![16 7](/uploads/00003/16-7.png "16 7")|Вернуть на утверждение	|С помощью данной кнопки можно, при необходимости, вернуть ранее утвержденную заявку в статус «На утверждении». Следует иметь в виду, что данная функция доступна только в том случае, если данная заявка является последней по времени создания. Т.е. отменить утверждение заявки, в изменение которой уже была утверждена корректирующая заявка, невозможно.|
|![16 8](/uploads/00003/16-8.png "16 8")|Показать записи с ошибками	|Нажатие кнопки включает режим просмотра записей плана, которые содержат ошибки в распределении значений показателей по месяцам/кварталам и/или СМО.|

Основную часть формы занимает табличная форма, которая содержит значения разделов и значения соответствующих им параметров планирования. Состав разделов и параметров планирования определяется настройками системы и одинаков для всех медицинских организаций региона. Колонки таблицы, соответствующие разделам планирования, содержат справочную информацию – наименования видов МП, профилей, источников финансирования и т.д. В колонках, соответствующих параметрам планирования, отображаются числовые значения, соответствующие указанным в данной строке разделам планирования.

Числовое значение имеет следующий формат отображения:
* 	первое число, выделенное жирным шрифтом – это значение параметра планирования текущей рассматриваемой заявки,
* 	второе число в скобках – значение аналогичного показателя из предыдущей заявки для сравнения.
* 	
Под предыдущей заявкой имеется в виду заявка с более ранней датой создания, т.е. это или та заявка, в изменение которой создана текущая корректирующая заявка, либо заявка на предыдущий отчетный период в том случае, если текущая заявка – основная в данном периоде планирования. Значение текущей заявки выделяется красным цветом шрифта, если оно отличается от значения в скобках. Если в скобках вместо числа отображается знак «?», это означает, что в предыдущей заявке данный показатель отсутствовал.

Результат рассмотрения заявки указывается по каждой позиции заявки. Для этого таблица включает дополнительную область (см. Рис. 6.1), которая в каждой строке плана содержит следующие элементы управления:

| Кнопка  | Функция  |
|:------------- |:---------------| 
|![2 2 2](/uploads/002-2/2-2-2.png "2 2 2")|Утвердить данную позицию заявки. Нажатие кнопки помечает позицию как принятую, цвет ее фона становится светло-зеленым.|
|![2 2 2 2](/uploads/002-2/2-2-2-2.png "2 2 2 2")|Отклонить данную позицию заявки. Нажатие кнопки помечает позицию как отклоненную, цвет ее фона становится светло-красным.|
|![2 2 2 2 2](/uploads/002-2/2-2-2-2-2.png "2 2 2 2 2")|Добавить комментарий по отклоненной позиции заявки. Если данная позиция заявки отклонена, при нажатии на кнопку открывается окно для ввода комментария по позиции заявки (см. Рис. 6.2). Комментарий будет виден пользователю приложения в медицинской организации, когда он будет обрабатывать отклоненную или частично утвержденную заявку.Введенный комментарий отображается в ячейке справа от кнопок управления.|

![17](/uploads/00003/17.png "17")
Наряду с элементами управления отдельной строкой заявки могут быть применены инструменты массовой обработки позиций заявки, представленные на панели инструментов (см. выше):  ![16 4](/uploads/00003/16-4.png "16 4") «Принять все позиции» и  ![16 5](/uploads/00003/16-5.png "16 5") «Отклонить все позиции». Например, если отклоняемых позиций меньше, чем принимаемых, целесообразно сначала пометить все строки заявки с помощью кнопки «Принять все позиции», а затем нужные позиции отклонить.

При обработке данных заявки можно пользоваться фильтрацией, сортировкой и поиском данных (см. подразделы настоящей главы руководства).

## 	Утверждение детализированных показателей

Утверждение детализированных показателей заявки МО, т.е. распределенных по периодам внутри года, возможно, если медицинская организация сделала детализированную разбивку утвержденных годовых показателей и отправила детализированную заявку на утверждение в фонд. Такие заявки становятся видны в папке «На утверждении (детализированные)». Двойной щелчок на заявке открывает ее для просмотра и внесения результатов рассмотрения.

Утверждение детализированных (распределенных внутри года) показателей полностью аналогично утверждению годовых значений с той разницей, что при утверждении строки плана утверждается не годовое значение, а его разбивка по месяцам/кварталам.

Просмотр детализированных показателей осуществляется раскрытием строки плана с помощью значка «+» в начале строки плана, как это показано на рисунке ниже.

При раскрытии строки плана отображается дополнительная панель с табличной формой (см. рисунок ниже). Таблица содержит строки, соответствующие параметрам планирования и колонки, соответствующие месяцам года. Колонка «Остаток» (выделена цветом) содержит нераспределенное количество единиц годового значения показателя. Фон ячейки имеет светло-желтый цвет, когда имеется нераспределенный остаток годового показателя (значение в ячейке больше нуля). Иначе фон ячейки имеет светло-зеленый цвет.

![18](/uploads/00003/18.png "18")

## 	Автоматический контроль данных

Программа предусматривает автоматический контроль корректности данных. В верхней части формы справа от полей основных параметров плана расположен индикатор состояния заявки ![5 1](/uploads/00001/5-1.png "5 1") , цвет которого зависит от корректности введенных данных. Когда все строки плана соответствуют установленным нормативам (т.е. норматив существует и значение его не превышает), индикатор сменит цвет на зеленый.

Также реализована функция сверки введенных значений с нормативами (лимитами), заданными для данной МО. Превышение значением установленного лимита отображается в таблице подсвечиванием ячейки с некорректными данными, как это показано на Рис. 6.4.

![20](/uploads/00003/20.png "20")  ![21](/uploads/00003/21.png "21")


Если вся строка подсвечивается светло-красным цветом, это значит, что по данной позиции норматив не указан (см. Рис. 6.5).


## 	Фильтрация и сортировка данных в заявке

Для фильтрации данных заявки могут использоваться поля фильтра, расположенные над табличной формой. Эти поля соответствуют заданным администратором системы разделам планирования. Например, «Тип планирования», «Профиль» и т.д. Значения полей выбираются из соответствующих справочников. Перед наложением фильтров необходимо убедиться стоит ли флажок по умолчанию  "Скрывать фильтруемые колонки". Если флажок стоит то, то при наложении фильтра колонка, на значения которой наложен фильтр, скрывается. Кнопка <Сбросить> рядом с полями фильтра снимает все условия, наложенные на строки плана.

В этих полях фильтра могут быть использованы символы маски ввода (см. п.2.3).

Кроме того, данные могут быть отфильтрованы, а также отсортированы инструментами табличной формы, используемой для отображения данных. 

Щелчок на заголовке колонки в таблице вызывает сортировку данных в таблице по данной колонке. Повторный щелчок меняет порядок сортировки.

При наведении указателя мыши на верхний правый угол заголовка колонки в нем появляется значок фильтра, нажатие на который открывает список выбора значения для фильтрации данных в таблице, как это показано на рисунке ниже.

![22](/uploads/00003/22.png "22")

Выбор строки фильтрует содержимое таблицы по указанному значению. При этом в нижней части формы появляется панель отображения информации о наложенных фильтрах, как это показано на рисунке ниже.

Флажок рядом с наименованием колонки, на которую наложен фильтр, позволяет временно отключить фильтрацию, а крестик в левой части панели скрывает панель фильтра и снимает условия отбора данных.

![23](/uploads/00003/23.png "23")

## 	Группировка данных заявки

Табличная форма отображения данных заявки предоставляет возможность группировки данных таблицы по данным определенной колонки. Для этого нужно с помощью мыши перетащить заголовок колонки в область, расположенную над таблицей (область имеет приглашающую надпись: «Поместите сюда заголовок колонки для группировки по этой колонке»). На рисунке Рис. 6.8 (ниже) показан пример применения группировки таблицы по колонке «Вид мед.помощи».

![24](/uploads/00003/24.png "24")  ![25](/uploads/00003/25.png "25")
  
На Рис. 6.10 показан результат применения группировки по колонке «Условия оказания МП».

![26](/uploads/00003/26.png "26")

Чтобы отменить группировку, нужно заголовок колонки перетащить мышью обратно, на область заголовков колонок таблицы, как это показано на рисунке Рис.6.9.

## 	Поиск данных в заявке

В табличной форме плана предусмотрен поиск нужного значения во всех колонках таблицы. Чтобы воспользоваться поиском, нужно нажать кнопку ![16 1](/uploads/00003/16-1.png "16 1")  на панели инструментов формы плана. При этом появится панель поиска, как это показано на рисунке:

![27](/uploads/00003/27.png "27")


В поле ввода панели поиска можно ввести требуемую строку поиска, после чего в таблице отобразятся только те строки, которые содержат введенную строку поиска в любой из ячеек. Найденный текст подсвечивается контрастным выделением.

Строка поиска может содержать как текст, так и цифры. Таким образом, возможен поиск не только по наименованиям показателей, но и по их числовым значениям. Кнопка <Очистить> очищает поле ввода строки поиска и снимает условие фильтра. Кнопка ![2 222222](/uploads/00003/2-222222.jpg "2 222222") закрывает панель поиска и снимает условия фильтра, наложенные с ее помощью.

# 	Работа комиссии по утверждению объемов МП

Для автоматизации и ускорения процесса утверждения объемов МП в системе реализован функционал, работа и особенности которого изображены на схеме ниже

![28](/uploads/00003/28.png "28")


## 	Протокол заседания комиссии на основании корректирующих заявок от МО.

Протокол можно составить для заявок со статусами годовой разбивки «Утвержден», а детализированной разбивки «Редактирование».

Для создания нового протокола необходимо открыть папку «Протоколы работы комиссии» и с помощью правой кнопкой мыши создать новый протокол.

![29](/uploads/00003/29.png "29")

![30](/uploads/00003/30.png "30")

В открывшемся окне во вкладке «Заявки» нужно добавить заявку. Для этого следует нажать «Добавить».

![32](/uploads/00003/32.jpg "32")

 В открывшейся форме нужно выбрать заявку и нажимать ОК.  
 
 ![33](/uploads/00003/33.png "33")
 
 Во вкладке «Участники» также с помощью нажатия «Добавить» добавляются участники. После нажатия «Добавить» открывается окно «Реестр участников заседания комиссии» правой кнопкой мыши добавляются новые участники.
 
 ![34](/uploads/00003/34.jpg "34")
 
 В открывшейся форме заполняем все данные и нажимаем ОК.
 
 ![35](/uploads/00003/35.jpg "35")
 
 Во вкладке «Рассмотрение» можно увидеть все значения заявки. 
 
 
 ![36](/uploads/00003/36.jpg "36")
 
 Если убрать флажок Заявки, останутся только сводные цифры.
 
 ![37](/uploads/00003/37.jpg "37")
 
 Если поставить флажки в разделах планирования, разбивка показателей становится более детальной.
 
 ![38](/uploads/00003/38.jpg "38")
 
 Чтобы скорректировать значения, необходимо щелкнуть по ячейке со значением, которое требуется изменить и ввести верные данные.
 
Измененные значения выделяются синим цветом.

![39](/uploads/00003/39.jpg "39")

В протоколе заседания комиссии на основании корректирующих заявок от МО есть возможность просмотра текущего плана. Для этого пользователю необходимо в основном окне протокола перейти во вкладку <Рассмотрение>, где следует проставить "флажки" для более детального просмотра показателей по разделам планирования. На панели инструментов формы справа установить "флажок" перед разделом <Текущий план> и перед другими разделами, в зависимости от того насколько детально нужно отобразить показатели, например, <Год>, <Группа> и т.д. После этого нажать кнопку ![39 1](/uploads/00003/39-1.png "39 1") , как это показано на рисунке ниже. 

![40](/uploads/00003/40.png "40")

В результате этих действий появится окно, в котором отображены объемы Текущего плана и объемы, указанные в корректирующих заявках. Значения, которые находятся в ячейках голубого цвета - это утвержденные объемы, их редактирование в протоколе невозможно, а значения, находящиеся в ячейках белого цвета - это объемы из корректирующих заявок, которые можно изменить, это показано на рисунке ниже.

![41](/uploads/00003/41.png "41")

Измененные значения в белых ячейках будут окрашены в синий цвет, как это показано на рисунке ниже.

![42](/uploads/00003/42.png "42")

Все внесенные изменения можно увидеть во вкладке «Результаты».

![43](/uploads/00003/43.jpg "43")

Протоколы можно сохранять с помощью кнопки  ![5 4](/uploads/00003/5-4.jpg "5 4") .  В системе реализована возможность редактирования номера протокола.
Пока слово «Подписан» не выделено флажком, протокол не влияет на изменения значений заявок МО.

![44](/uploads/00003/44.jpg "44")

## 	Протокол заседания комиссии по МО (без корректирующих заявок). 

Протокол предназначен для рассмотрения комиссией объемов МП без подачи корректирующих заявок от медицинских организаций.  По завершению работы с изменениями в объемах МП системой автоматически формируются корректирующие заявки по МО с измененными позициями плана. Данную заявку медицинская организация править не может.
Чтобы создать новый протокол по МО, пользователю программы необходимо открыть папку <Протоколы>, для дальнейшей работы выбрать папку <Протоколы рабочей комиссии>. Двойной клик по данной папке, разворачивает окно, как показано на рис.7.1. Создание нового протокола осуществляется с помощью нажатия правой кнопки мыши, как показано на рисунке ниже.

