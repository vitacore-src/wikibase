<!-- TITLE: ОМС-Финанс (ТФОМС)-->
<!-- SUBTITLE: Рабочая инструкция пользователясистемы «ВИТАКОР» -->

# Введение

Программа предназначена для формирования планового задания медицинской организации (создания заявки, утверждения, корректировки), автоматизированного обмена данными между территориальным фондом ОМС, медицинскими организациями и страховыми медицинскими компаниями, формирования отчетов на бумажных и электронных носителях.

# Сокращения

* 	МО – Медицинская организация
* 	МП – Медицинская помощь
* 	ОМС – Обязательное медицинское страхование
* 	ОС – Операционная система
* 	СМО – Страховая медицинская организация
* 	БД – База данных

# 	Основные действия пользователя

## 	Запуск приложения

При установке приложения на компьютер пользователя администратор создает ярлык быстрого доступа к приложению. Как правило, ярлык создается на рабочем столе Windows, в списке программ и на панели быстрого запуска и имеет подсказку, соответствующую наименованию программы.

При запуске приложения проверяется наличие обновлений программного обеспечения. Если они обнаружены, производится обновление клиентского приложения на компьютере пользователя. Если обновления отсутствуют, об этом выводится сообщение (см. **Ошибка! Источник ссылки не найден.**).

![1](/uploads/00003/1.png "1")  ![2](/uploads/00003/2.png "2")

Затем запускается само приложение, которое первым шагом запрашивает авторизацию пользователя – его имя и пароль. Соответствующий диалог показан на Рис. 1.2.

После успешной авторизации открывается главное окно приложения. Если авторизация не выполнена (введено несуществующее имя пользователя или неправильный пароль) или пользователь отказался от авторизации кнопкой <Отмена>, приложение не запускается.

## 	Выход из приложения

Выход из приложения по окончании работы может быть произведен:
* 	с помощью главного меню приложения: <Файл>  <Выход>;
* 	стандартным приемом закрытия экранной формы (кнопка закрытия в правом верхнем углу главного окна приложения или нажатие клавиш [Alt+F4]).
* 	
В любом случае при попытке выхода из программы система выведет запрос на подтверждение, показанный на рисунке ниже. Подтверждение запрашивается во избежание случайного закрытия окна программы.

![3](/uploads/00003/3.png "3")

## 	Смена пароля

Пользователь при необходимости может изменить свой пароль входа в систему. Это делается с помощью главного меню приложения: <Настройки> <Сменить пароль>. При этом выводится диалоговое окно изменения пароля, показанное на рис.1.4.

![4](/uploads/00003/4.png "4")

В окне диалога требуется ввести действующий (текущий) пароль, новый пароль и затем подтвердить новый пароль повторным вводом в поле «Подтверждение». Кнопка <ОК> сохранит информацию об измененном пароле в базе данных. При следующем входе в систему потребуется ввод нового пароля. Кнопкой <Отмена> можно отказаться от операции изменения пароля.

# 	Базовые сведения о системе

## 	Организация доступа

Поскольку приложения работают с базами данных, информация в которых может быть конфиденциальной, пользователь системы должен быть зарегистрирован. Регистрация пользователя производится администратором и означает создание для каждого пользователя учетной записи, которая хранится в базе данных системы. Учетная запись содержит сведения о пользователе, позволяющие его идентифицировать, имя пользователя (логин), данные о пароле и о правах, предоставленных данному пользователю.

Под правами пользователя понимаются права доступа к функциям системы, сущностям и т.д.

Имя пользователя, или логин - это уникальный идентификатор пользователя в рамках системы. Пароль представляет собой строку текста, которую должен знать только пользователь системы. Это позволяет обеспечить соответствие логина пользователя и реального человека.

Регистрация пользователей ведется с целью обеспечения сохранности данных системы путем контроля доступа к данным, ведения журнала действий пользователя и т.д. Поэтому при входе в систему обязательно производится т.н. авторизация (или аутентификация) пользователя. Авторизация – это процесс идентификации (определения) пользователя системы, который аналогичен процессу установления личности, например, при обращении в банк.

## 	Интерфейс

Все, с помощью чего информационная система обменивается информацией с внешним миром, называется интерфейсом. Интерфейс может быть визуальным – например: окна, экранные формы, отчеты и т.д., которые видит пользователь при работе с системой; и не визуальным – интерфейсы для обмена данными с другими информационными системами или оборудованием.

В операционной среде Windows основными элементами визуального интерфейса являются окна (экранные формы). Экранные формы содержат различные визуальные элементы для представления данных, а также для управления данными и самими формами. Элементы управления могут быть различными по назначению и сложности, но их набор ограничен для удобства работы с системой – для решения однотипных задач используются однотипные элементы. Базовые визуальные элементы управления экранных форм описаны в п.4 настоящего руководства. Более сложные и специализированные элементы управления описаны в соответствующих разделах настоящего руководства и отдельных руководствах по модулям системы.

Как и большинство Windows-приложений, программы компании «Витакор» имеют т.н. главное окно, которое открывается при запуске системы и предоставляет доступ ко всем функциям приложения. Структура и функции главного окна описаны в п.3.

При работе с приложениями следует иметь в виду, что многие элементы интерфейса системы (пункты меню, кнопки и т.д.) контекстно-зависимы, т.е. их состав, внешний вид и доступность могут изменяться в зависимости текущего режима работы программы и прав доступа, предоставленных пользователю приложения.

## 	Контроль ввода данных (валидация)

Экранные формы, предназначенные для ввода данных в систему, имеют встроенные инструменты контроля правильности вводимых данных (валидации). Для контроля ввода данных применяются:
* 	поля ввода данных определенного типа (числовые поля не допускают ввод букв и т.д.),
* 	маски ввода (см. ниже),
* 	ограничение вводимых данных списками выбора и справочниками,
* 	процедуры проверки данных при переходе на другой элемент формы ввода данных,
* 	процедуры проверки данных при сохранении формы ввода данных.
Маска ввода представляет собой шаблон, применяемый в тех случаях, когда вводимое значение имеет строгий формат. Шаблон может ограничивать количество символов, перечень допустимых символов, а также позволяет включать автоматически обязательные символы. Для пользователя маска ввода выглядит как строка символов. Очень часто маску применяют при вводе даты, телефонного номера и т.д., т.к. они имеют определенный формат. Например, маска ввода даты может иметь вид «__.__.____» или «__.__.». Символ подчеркивания в маске соответствует позиции ввода. Остальные символы являются составной частью вводимого значения – точка, дефис, пробел, скобки и т.д.

Даже если введенное значение удовлетворяет требованию формата, оно может быть некорректным по смыслу. Например, правильно введенная дата окончания периода может быть меньше даты начала периода. Такого рода ситуации отслеживаются специальными процедурами валидации. При обнаружении ошибок процедурами валидации выводятся специальные сообщения (см. п. 10.3).

## 	Терминология и приемы работы
В дальнейшем при описании функциональности приложения используются следующие термины:

|  | |
|:------------- |:---------------:|
|Курсор|Средство отображения текущей позиции для ввода текста на экране. В полях ввода данных имеет вид вертикальной черты. В списках и табличных формах курсор имеет вид выделенной контрастным цветом строки или ячейки списка (таблицы). Курсор также является средством отображения наличия фокуса на данном элементе управления.|
|Указатель мыши|Указатель мыши предоставляет альтернативный по отношению к клавиатуре способ доступа к элементам визуального интерфейса системы. Указатель мыши может иметь различные формы в зависимости от текущего контекста:<br> ![4 11](/uploads/00003/4-11.png "4 11") -стандартный вид указателя,<br> ![4 22](/uploads/00003/4-22.png "4 22") -вид, применяемый при наведении указателя на ссылку,<br> ![4 33](/uploads/ktt/4-33.png "4 33") -вид, применяемый при помещении в область текстового поля.|
|Щелчок (или клик) кнопкой мыши|Если не указано иное, имеется в виду одинарный щелчок левой кнопкой мыши (т.е. нажатие и отпускание кнопки).|
|Двойной щелчок (двойной клик)|Комбинация двух щелчков подряд левой кнопкой мыши|
|Перетаскивание|Действие, когда пользователь, наведя указатель мыши на нужный объект интерфейса, нажимает левую кнопку мыши, и, удерживая ее нажатой, перемещает указать мыши в определенное место интерфейса системы. Во время операции перетаскивания указатель мыши может принимать вид:<br> ![4 1](/uploads/00003/4-1.png "4 1") -обычное перетаскивание,<br> ![4 11](/uploads/00003/4-11.png "4 11") -перетаскивание с копированием,<br> ![4 2](/uploads/00003/4-2.png "4 2") -такой вид указатель принимает при попытке перетащить мышью объект в недопустимое место экранной формы.
|Горячие клавиши|За определенной функцией приложения может быть зарезервирована определенная клавиша или, чаще всего, комбинация клавиш клавиатуры. Эти так называемые «горячие» клавиши позволяют осуществить быстрый вызов данной функции системы без использования таких средств навигации, как перемещение по форме с помощью мыши, клавиши [Tab] или пунктов меню системы.<br>Доступ к функциям с помощью горячих клавиш подчиняется тем же правилам, что и доступ с помощью визуальных элементов интерфейса. Т.е. если в данный момент функция недоступна для выбора, горячие клавиши также не сработают.|

Любой элемент управления экранной формы может приобретать и терять «фокус», т.е. становиться активным или неактивным. Активный элемент (находящийся в фокусе, или «имеющий фокус») готов к получению данных (готов к приему команды). Наличие фокуса отображается визуально – как правило, с помощью пунктирной рамки, охватывающей площадь элемента управления. Для некоторых элементов индикатор активности может выглядеть по-другому и это включено в описание соответствующего элемента управления в разделе 3.

Перемещение фокуса между элементами управления формы производится либо с помощью мыши, либо с помощью клавиши [Tab]. Нажатие [Tab] переключает фокус на элемент, следующий по порядку  за текущим. [Shift+Tab] – позволяет перемещаться по элементам формы в обратном порядке. Клик мышью на элементе передает ему фокус независимо от установленного порядка следования элементов на форме. С помощью клавиатуры изменять состояние элемента можно, только если он находится в фокусе.

В случае использования мыши сам внешний вид элемента подсказывает возможные действия (кнопки нажимаются кликом мыши, элементы списка выбираются двойным кликом и т.д.). При использовании клавиатуры необходимо запомнить простые правила работы с определенными элементами правления (эти правила приведены в описаниях элементов). При использовании мыши не требуется знать правил обращения с элементами управления, но при помощи клавиатуры скорость работы с формами ввода данных может быть значительно выше.


# 	Главное окно приложения

![5](/uploads/00003/5.png "5")


Главное окно приложения   содержит следующие области:
* 	Заголовок окна приложения содержит пиктограмму, наименование приложения и имя (логин) текущего пользователя системы.
* 	Под заголовком окна располагается главное меню системы.
* 	Ниже главного меню располагается панель инструментов приложения, содержащая контекстно-зависимый  набор кнопок быстрого доступа к функциям системы.
* 	Всю нижнюю часть формы занимает панель статуса, на которой отображается дополнительная информация при работе с приложением.
* 	Оставшуюся часть окна делят панель структуры приложения (слева) и панель отображения данных (справа).

Интерфейс приложения является многооконным, т.е. в рамках главного окна может быть открыто множество подокон (далее – просто «окно») для отображения данных.

Элементы управления приложения (пункты меню, кнопки и пр.), недоступные в соответствии с заданными правами пользователя, скрываются. Т.е. пользователи системы, имеющие различные наборы прав, могут видеть разный состав пунктов меню системы и разный набор кнопок.

## 	Главное меню

Главное меню приложения представляет собой набор пунктов меню, состав которого зависит от вида приложения. При этом оно всегда содержит пункты, описанные в таблице:

|  | |
|:------------- |:---------------|
 |<Файл>	|Меню «Файл» включает пункты для управления запущенным приложением:<br><Закрыть><br><Выход> - закрыть главное окно приложения (выйти из программы).
|<Сервис>	|Предоставляет доступ к сервисным функциям приложения.|
|<Настройки>	|Меню включает подпункты, соответствующие функциям для настройки приложения, т.е. указания различных базовых параметров, влияющих на функциональность системы. |
|<Отчеты>	|Меню содержит список отчетов|
|<Окно>	|Меню содержит функции управления окнами приложения (подробно о работе с окнами системы см. п.3.5):<br> <Закрыть все> - позволяет закрыть все открытые окна приложения,<br><Окна…> - отображает полный список открытых окон системы для управления ими: переключения в выбранное окно или его закрытие.<br>Переключатель <Папки> включает/отключает отображение панели структуры приложения (см. п.3.3)<br>Переключатель <Избранное> включает/отключает отображение панели «Избранное» (см. п.33.4).|
|<Справка>	|Меню для предоставления справочной информации о системе:<br><О программе…> показывает диалоговое окно с отображением базовой информации о системе: производителе системы, номерах версий, установленных компонентах и пр.,<br><Новости> открывает в области данных окно с новостями разработчика приложения.|

Троеточие, добавляемое в конце заголовка пункта меню, означает, что выбор пункта меню откроет дополнительное диалоговое окно перед непосредственным выполнением команды.
Горячие клавиши (см. Табл. 4.1), соответствующие пункту меню системы, указываются после заголовка пункта меню, например <Закрыть Alt+A>.


## 	Панель инструментов

Панель инструментов приложения является контекстно-зависимой и разбита на несколько областей:
* 	Кнопки быстрого доступа – их набор зависит от вида запущенного приложения;
* 	Область управления активным окном (как правило, содержит кнопки сохранения, добавления удаления, и т.п.) их набор зависит от типа окна (список, форма ввода) и конкретного вида окна. Элементы панели инструментов описаны для каждого конкретного вида формы в соответствующих руководствах.


## 	Панель структуры («Папки»)

Панель структуры приложения содержит древовидный (иерархический) список, позволяющий отобразить перечень задач системы, сгруппированных по разделам (папкам). В дереве папок видны только те разделы, к которым у пользователя есть доступ в соответствии с его правами.

Панель структуры отображается по умолчанию, но может быть скрыта (например, для высвобождения места для панели отображения данных) с помощью переключателя <Окно><Папки> главного меню приложения. Этот же переключатель позволяет вновь отобразить панель, когда это необходимо.

Двойной клик мышью на заголовке раздела, не имеющего вложенных элементов (подразделов), открывает окно (форму) в области отображения данных (см. п. 3.5), соответствующее данному разделу.


## 	Панель «Избранное»

С помощью панели «Избранное» может быть настроен быстрый доступ к данным системы. На эту панель с помощью перетаскивания мышью может быть помещена любая из форм, открытых в области отображения данных или даже конкретная запись из открытой табличной формы.
Содержимое панели организуется в виде древовидного списка. Для организации содержимого панели можно создавать папки и подпапки с помощью контекстного меню.

Папки и ярлыки на панели «Избранное» видны только пользователю, создавшему их.

## Область отображения данных

Каждая новая открытая форма (окно) приложения помещается в область отображения данных в виде вкладки (исключение составляют так называемые диалоговые окна, см. п. 10). В верхней части области данных располагаются ярлыки всех открытых в данный момент вкладок, каждый ярлык содержит заголовок открытой формы. Всю остальную площадь области отображения данных занимает содержимое активной на данный момент вкладки. Ярлыки позволяют видеть, какие формы (окна) системы открыты, и переключаться между ними.

В правом верхнем углу области расположены кнопки управления набором вкладок. Кнопки стрелок (влево и вправо) ![1 11111](/uploads/00003/1-11111.jpg "1 11111")  позволяют переместить фокус с текущей вкладки на соседнюю (сделать активной вкладку) слева или справа. Кнопка ![2 222222](/uploads/00003/2-222222.jpg "2 222222")  позволяет закрыть текущую активную вкладку.

Если на вкладке имеются несохраненные данные, в заголовке вкладки отображается символ «\*». При попытке закрытия такой вкладки будет выведен запрос на сохранение внесенных изменений.
Если вкладок открыто много и все ярлыки не помещаются в видимой части формы, управлять открытыми окнами можно с помощью пункта главного меню <Окно>.

# 4.	Базовые элементы интерфейса

Данный раздел описывает базовые универсальные элементы, с помощью которых строятся интерфейсы приложений. К базовым элементам относятся простейшие элементы, такие как кнопки, поля и т.п., из которых строятся экранные формы в Windows.
Элемент управления, недоступный пользователю в текущий момент времени, будет представлен в сером цвете, например: ![5 1](/uploads/00003/5-1.jpg "5 1") . Поля ввода, недоступные для изменения, имеют серый цвет фона.

## 	Кнопка
Один из самых распространенных элементов управления. Представляет собой область формы, обозначенную пиктограммой и/или надписью, и которая может быть нажата с помощью мыши или клавиши [Enter] (при условии, что кнопка находится в фокусе).

Нажатие на кнопку запускает выполнение какой-либо функции приложения. Кнопки могут иметь различный внешний вид, например:
* 	![5 2](/uploads/00003/5-2.jpg "5 2") - классический («объемный») вид кнопки (как правило, используется в диалоговых окнах),
* 	![5 3](/uploads/00003/5-3.jpg "5 3")  - «плоский» вид кнопки (как правило, применяется в меню),
* 	![5 4](/uploads/00003/5-4.jpg "5 4")  - «плоский» вид кнопки с пиктограммой (панель инструментов),
* 	![5 5](/uploads/00003/5-5.jpg "5 5")  - кнопка, имеющая вид ссылки,
* 	![5 6](/uploads/00003/5-6.png "5 6")  - альтернативный вариант отображения кнопки экранной формы.
Наиболее часто используемые кнопки <ОК> и <Отмена> предназначены для подтверждения пользователем сделанного выбора, внесенных изменений и т.п. и отказа от них соответственно.

Наличие справа от подписи кнопки значка  , говорит о том, что нажатие данной кнопки откроет подменю для выбора конкретной команды.
