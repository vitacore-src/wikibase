<!-- TITLE: РУКОВОДСТВО АДМИНИСТРАТОРА  -->
<!-- SUBTITLE:  -->

# Введение
## Область применения
Настоящий документ включает в себя описание основных процедур администрирования системы комплексного автоматизирования территориальных фондов обязательного медицинского страхования «МедЭксперт-ТФОМС» (далее - система).

Руководство администратора предназначено для администраторов системы.

##  Краткое описание возможностей
Система предназначена для решения следующих задач:
* 	персонифицированный учет медицинской помощи, оказанной застрахованным гражданам медицинскими организациями в рамках системы ОМС
* ведение НСИ
* взаимодействие со страховыми организациями

##  Уровень подготовки администратора системы 

Для администрирования системы администратор должен обладать следующими знаниями:
* 	Администрирование локальных сетей;
* Администрирование базы данных не ниже SQL Server 2008;
* 	Windows ХР, Vista, 7, Server 2003 и более;
* 	Установка Net. Framework 2.0 и более.

##  Состав персонала, обеспечивающего функционирование подсистемы

Функционирование подсистемы обеспечивает обслуживающий персонал в составе:
* 	Администратор
	
## Требования к квалификации персонала

Ввод системы в промышленную эксплуатацию не требует повышения квалификации Администратора. Необходимо ознакомление с эксплуатационной документацией.

## Перечень эксплуатационной документации

Перечень эксплуатационных документов, с которыми необходимо ознакомиться:
* [РУКОВОДСТВО АДМИНИСТРАТОРА ПО ОБСЛУЖИВАНИЮ БАЗЫ ДАННЫХ](baz-dann)
*  [РУКОВОДСТВО АДМИНИСТРАТОРА;](ruk-admin)
*  [РУКОВОДСТВО ПО ВЕДЕНИЮ НСИ;](ved-nsi)
*  [РУКОВОДСТВО ПО КОНСТРУИРОВАНИЮ ЗАПРОСОВ;]()
*  [РУКОВОДСТВО ПО ПРОВЕДЕНИЮ ЭКСПЕРТИЗЫ;](proved-exp)
*  [РУКОВОДСТВО ПО ПРОВЕДЕНИЮ РЕЭКСПЕРТИЗЫ](proved-reexp)

#  Назначение и условия применения
##  Виды деятельности, функции
Система предназначена для организации следующих процессов:
*  персонифицированный учет медицинской помощи, оказанной застрахованным гражданам медицинскими организациями в рамках системы ОМС;
* ведение НСИ;
* взаимодействие со страховыми медицинскими организациями.

**Условия, при соблюдении (выполнении, наступлении) которых обеспечивается применение средства автоматизации в соответствии с назначением (например, вид ЭВМ и конфигурация технических средств, операционная среда и общесистемные программные средства, входная информация, носители данных, база данных, требования к подготовке специалистов и т.п.)**

#  Подготовка к работе
## 	Состав и содержание дистрибутивного носителя данных
## Порядок загрузки данных и программ
Для Запуска системы МедЭксперт-ТФОМС необходимо нажать на пиктограмму «МедЭксперт ТФОМС» (Рис. 1) на рабочем столе компьютера.
 
![1](/uploads/0000004/1.png "1")

В появившемся диалоговом окне (Рис. 2) следует пройти системную аутентификацию. Для этого вводится имя пользователя в поле «Имя пользователя» и пароль в поле «Пароль», присвоенный вам.
 
![2](/uploads/0000004/2.png "2")

При правильном вводе имя пользователя и пароля произойдет запуск системы и появится Главное окно приложения системы «МедЭксперт-ТФОМС» (Рис. 3).
 
![3](/uploads/0000004/3.png "3")


#  Администрирование системы
##  Описание операции «Новости»

###  Условия, при соблюдении которых возможно выполнение операции

Модуль «Новости» предназначен для получения новостной информации от разработчика системы об изменениях, произошедших с системой «МедЭксперт-ТФОМС». Модуль «Новости» может содержать информацию об обновлении версий системы, изменении или добавлении справочников, а также другие новости, которую представляет Группа разработчиков для Администратора и других пользователей системы «МедЭксперт-ТФОМС». Каждый пользователь системы может самостоятельно ознакомиться со свежими новостями и просматривать архив новостей.

###  Подготовительные действия

Для работы с модулем «Новости» системы «МедЭксперт-ТФОМС» необходимо выбрать опцию «Справка» в Главном меню приложения системы с помощью наведения мыши. В результате выбора опции «Справка» в Главном меню приложения системы появится подменю, в котором следует нажать на опцию «Новости». В Области отображения данных, расположенной в правой половине экрана, появятся новости от разработчика системы в обратной хронологической последовательности. В верхней строке будет отображена самая последняя новость (Рис. 4).
 
![4](/uploads/0000004/4.png "4")

###  Основные действия в требуемой последовательности

Для просмотра новостей можно воспользоваться прокруткой справа (выделено красным цветом) (Рис. 5) или скролом мыши (колесом прокрутки мыши). Свежие новости смещают вниз предыдущие новости, которые затем при очередном смещении исчезают со страницы. При использовании прокрутки можно просмотреть предыдущие новости, которые будут появляться внизу на текущей странице. Также можно нажать на клавишу «Скрыть» в правом углу новости (кнопка выделена красным цветом) (Рис. 5), чтобы скрыть эту новость. Каждая новость отделена от другой новости чертой (Рис. 5).

![5](/uploads/0000004/5.png "5")

Как только новость добавлена разработчиком системы, она становится доступной для пользователей системы. Добавленная новость будет автоматически отображаться при запуске или перезапуске системы. Разработчиком системы устанавливается разная доступность новостей для различных категорий пользователей, которые могут просматривать актуальную для них информацию.
###  Заключительные действия

###  Ресурсы, расходуемые на операцию

##  Описание операции «Сотрудники».

###  Условия, при соблюдении которых возможно выполнение операции

Для предоставления доступа новому сотруднику ТФОМС необходимо выполнить последовательно следующие действия в системе «МедЭксперт-ТФОМС». Сначала следует добавить нового сотрудника в систему, так как к этому сотруднику должен быть привязан новый пользователь. Затем следует создать нового пользователя системы, который может иметь одну или несколько ролей. А потом добавить роли пользователю. Доступ в систему новый сотрудник ТФОМС приобретает, когда к сотруднику в системе присоединяется пользователь, который будет иметь логин и пароль для входа в систему. Создание только сотрудника не предоставляет доступа в систему «МедЭксперт-ТФОМС», но пользователь не может быть создан без сотрудника. Пользователь может быть также прикреплен к сотруднику, данные о котором были введены ранее в систему.

###  Подготовительные действия

Для создания нового сотрудника в системе «МедЭксперт-ТФОМС» необходимо открыть папку «Администрирование», которая находится в левой половине экрана и называется Панель структуры приложения (Рис. 6). Затем следует открыть папку «Сотрудники», которая выделена красным цветом. При этом в правой половине экрана Области отображения данных появится вкладка «Сотрудники» со списком сотрудников, которые уже имеются в системе. Потом в поле списка сотрудником необходимо дважды кликнуть правой клавишей мыши, чтобы открылось контекстное меню, в котором следует выбрать пункт «Новый» (Рис. 6). После нажатия на пункт «Новый» откроется вкладка «Сотрудник (новый)».
 
![6](/uploads/0000004/6.png "6")

4.2.3 Основные действия в требуемой последовательности
Во вкладке «Сотрудник (новый)» необходимо заполнить данные о новом сотруднике (Рис. 7). Порядок заполнения полей отражен в Таблице 1.
 
![7](/uploads/0000004/7.png "7")

|Поле ввода  |Описание |
| ------------- | ------------- |
|Фамилия	|Фамилия сотрудника|
|Имя	|Имя сотрудника|
|Отчество	|Отчество сотрудника|
|Код	|Код сотрудника|
|Уволен	|При увольнении сотрудника в этом поле устанавливается флаг-галочка|

Внизу вкладки «Сотрудник (новый)» имеется пустое поле списка пользователей «Пользователи системы», которые могут быть привязаны к этому сотруднику. Создание нового пользователя и описание полей списка пользователей «Пользователи системы» будет рассмотрено в следующем [разделе 4.3.](#m1)

###  Заключительные действия
В заключении необходимо сохранить введенные данные о сотруднике. Для этого необходимо нажать на пиктограмму «Сохранить»   в крайнем левом углу Панели инструментов приложения. По завершении работы сотрудник будет добавлен в систему.

###  Ресурсы, расходуемые на операцию

<a name="m1"></a>
##  Описание операции «Все пользователи»

## Условия, при соблюдении которых возможно выполнение операции

Модуль «Все пользователи» предназначен для работы с данными пользователя. Можно создать или удалить пользователя, просмотреть данные о пользователе. Создать пользователя можно двумя способами. 
Первый способ – добавить пользователя во вкладке «Сотрудник (новый)» папки «Сотрудники» после добавления нового сотрудника, как это описано в предыдущем [разделе 4.2.](#m2)
Второй способ – добавить пользователя в папке «Все пользователи», которая выделена красным цветом и также находится в папке «Администрирование» (Рис. 8).
 
![8](/uploads/0000004/8.png "8")

При регистрации пользователя ему присваивается статус «Активный» пользователь. Активный пользователь имеет права на вход в систему посредством системной аутентификации и пользование системой в рамках прописанных ему ролей. При необходимости пользователя можно убрать из списка «Активных» пользователей, что заблокирует вход этому пользователю. Для этого необходимо убрать флажок со статуса «Активный».

### Подготовительные действия

Подготовительные действия для первого способа описаны в [разделе 4.2.](#m2). Для второго способа необходимо открыть папку «Все пользователи», которая расположена в папке «Администрирование».

###  Основные действия в требуемой последовательности

####  Способы создания пользователя:

1)	Первый способ.
После ввода данных о сотруднике во вкладке «Сотрудник (новый)» (описано в разделе 4.2) необходимо нажать на кнопку «Добавить», расположенную в правой половине экрана Области приложения данных в правом нижнем углу поля ввода данных о сотруднике и выше списка пользователей «Пользователи системы», который при первичном вводе сотрудника должен быть пустым (Рис. 9). Данные о сотруднике должны быть заполнены ранее в [разделе 4.2.](#m2) В появившемся окне «Пользователи системы» необходимо в пустом поле списка дважды нажать правой кнопкой мыши, чтобы открыть контекстное меню. В контекстном меню следует выбрать пункт «Новый» (Рис. 9).
  
![9](/uploads/0000004/9.png "9")

Откроется поверх уже открытых окон новое окно «Пользователи системы (новый)» (Рис. 10). Порядок заполнения полей отображен в Таблице 2.

![10](/uploads/0000004/10.png "10") 

Введение данных о новом пользователе

Таблица 2

|Поле ввода  |Описание |
| ------------- | ------------- |
|Логин	|Логин пользователя, под которым пользователь будет входить в систему, проходить идентификацию|
|Описание	|Поле содержит дополнительную информацию о пользователе|
|Аутентификация	|В выпадающем списке необходимо выбрать «Системная аутентификация» («Windows аутентификация» используется только разработчиком системы)|
|Пароль	|Пароль пользователя, с помощью которого сотрудник сможет входить в систему под именем нового пользователя|
|Повтор пароля	|Повторный ввод пароля пользователя|

Справа от поля «Аутентификация» имеется поле с правами и действиями пользователя, в котором флажком можно выбрать следующие функции «Активные», «Необходимо сменить пароль», «Право на подключение с других серверов». Для активации пользователя необходимо выбрать «Активные». Для блокировки доступа пользователя в систему необходимо убрать флажок «Активные». Если будет необходимость сменить пароль, то следует выбрать «Необходимо сменить пароль». «Право на подключение с других серверов» предназначено для разработчиков системы.

Далее следует выбрать роли пользователя. Может быть выбрано несколько ролей пользователя с помощью флажка. В приведенном примере можно выбрать следующие роли пользователя:
1.	Администратор;
2.	Администратор учетных записей;
3.	Медицинский эксперт;
4.	МТР;
5.	Оператор 1 уровня;
6.	Оператор 2 уровня;
7.	ФОНД;
8.	Экономист.

Внизу расположено поле «Подразделения», при активации которого появляется новое окно «Филиал», в котором открывается список филиалов, подразделений. В приведенном примере указаны следующие организации: «РГС-МЕДИЦИНА», «СПАССКИЕ ВОРОТА-М», ТФОМС Смоленской области, ФИЛИАЛ АО «МАКС-М» В Г. СМОЛЕНСКЕ, СФ СК «СОГАЗ-МЕД». Необходимо выбрать нужную организацию и нажать «ОК» внизу этого окна «Филиал». А также нажать «ОК» в окне «Пользователи системы (новый)» для завершения работы (Рис. 10). По завершении работы пользователь добавляется в систему.

2)	Второй способ.
После нажатия папки «Все пользователи», выделенная красным цветом в левой половине экрана Панели структуры приложения, в правой половине экрана Области отображения данных откроется вкладка «Все пользователи», которая будет содержать список пользователей (Рис. 11). Для добавления нового пользователя необходимо в правой половине экрана Области отображения данных в поле списка пользователей дважды нажать правую клавишу мыши. Откроется контекстное меню, в котором при наведении мыши на пункт «Новый» появится подменю, в котором следует нажать на пункт «Пользователи системы» (Рис. 11).

 ![11](/uploads/0000004/11.png "11")
 
После нажатия на пункт подменю «Пользователи системы» в правой половине экрана Области управления вкладками откроется вкладка «Пользователи системы (новый)» (Рис. 12). Дальнейшее заполнение полей аналогично первому способу введения данных о пользователе (Рис. 12), которое представлено на Рис. 10.
 
![12](/uploads/0000004/12.png "12")

#### Удаление пользователя.

Для удаления пользователя необходимо в контекстном меню, которое появляется при нажатии на пользователя, выбрать пункт «Удалить» (Рис. 9 и 11).

#### Просмотр данных о пользователе.

Для просмотра данных о пользователе без возможности их коррекции следует нажать на пункт «Свойства», который находится в том же контекстном меню (Рис. 9 и 11).

#### Подразделение. Введение данных о подразделении. 

Для введения данных о подразделениях необходимо на вкладке «Все пользователи» в контекстном меню (Рис. 11) выбрать пункт «Новый», а затем пункт подменю «Базовая сущность для пользователей системы».

Откроется вкладка  «Базовая сущность для пользователей системы (новый)» (Рис. 13). При нажатии на кнопку ![24](/uploads/0000004/24.png "24") , расположенную рядом с полем «Подразделение» и выделенную красным цветом, откроется дополнительное окно «Подразделение», в котором в левой половине экрана будут расположены подразделения в виде древовидного раскрывающегося списка, а в правой половине экрана список подразделений на основании фильтра «Фильтр по уровням дерева», расположенному в панели управления дополнительного окна «Подразделение». При выборе нужного фильтра с помощью выпадающего списка ![27](/uploads/0000004/27.png "27")  (Рис. 13) появятся подразделения в древовидном списке в левой половине экрана дополнительного окна «Подразделение», а необходимый список подразделений согласно их подчиненности в правой половине окна «Подразделения».

![13](/uploads/0000004/13.png "13")

1)При выборе «Дочерние узлы» в списке справа будут представлены подразделения, которые будут являться дочерними по отношению к выбранному слева подразделению. 

2)При выборе «Узлы последнего уровня» в списке справа будут отображены только подразделения, у которых нет подчиненных подразделений по отношению к подразделению, выбранном справа в древовидном списке.

3)При выборе «Все потомки» будут видны все подразделения в списке слева, которые подчинены подразделению, выбранному в правой половине экрана.

Для добавления нового подразделения необходимо в поле списка подразделений левой половины экрана необходимо дважды щелкнуть левой кнопкой мыши, и появится контекстное меню (Рис. 14). В этом контекстном меню следует выбрать пункт «Новый».

![14](/uploads/0000004/14.png "14")

Откроется дополнительное окно «Подразделение (новый)» (Рис. 15), в котором в поле «Наименование» необходимо ввести название подразделения, которое необходимо добавить в систему, а в поле «Полное наименование» ввести его полное наименование. Затем для выбора родительского подразделения, которому будет подчинено вновь вводимое подразделение, необходимо нажать клавишу «Ok». Появится второе дополнительное окно «Подразделение» (Рис. 15), в котором следует выбрать подразделение, которому будет подчинено вновь создаваемое подразделение. После выбора подразделения нажать клавишу «Ok». 

![15](/uploads/0000004/15.png "15")

После этого второе дополнительное окно «Подразделение» закроется, а в поле «Родительское подразделение» в дополнительном окне «Подразделение (новый)» будет заполнено выбранным родительским подразделением. А также  изменится название этого дополнительного окна «Подразделение (новый» на «новое наименование» (Рис. 16). Затем следует нажать клавишу «Ok».

![16](/uploads/0000004/16.png "16")

Дополнительное окно «новое наименование» закроется, а в список подразделений в первом дополнительном окне «Подразделение» в правой и левой половине экрана будет добавлено новое подразделение согласно его подчиненности (Рис. 17).

![17](/uploads/0000004/17.png "17")

#### После заполнения данных о пользователе, которое описано в [разделе 4.3.3.1.](#m3), будет заполнен список пользователей «Пользователи системы» (Рис. 7 и 9). Содержание списка пользователей «Пользователи системы» отображено в Таблице 3.

Содержание списка пользователей «Пользователи системы»

| Реквизит  | Описание |
| ------------- | ------------- |
|Логин	|Логин пользователя, под которым пользователь будет входить в систему, проходить идентификацию. (Заполняется после записи в поле «Логин» вкладки или окна «Пользователи системы)|
|Полное имя	|Полное имя пользователя. Поле содержит дополнительную информацию о пользователе. Иногда может быть такое же, как «Логин». (Заполняется после записи в поле «Описание» вкладки или окна «Пользователи системы»)|
|Разрешен вход в систему	|При разрешении доступа отражается «Да»|
|Подразделение	|Отражается «Main»|
|Проверка подлинности	|Отражается «Системная аутентификация» (Происходит выбор в поле «Аутентификация» поля или окна «Пользователи системы»)|
|Сотрудник||	
|Филиал	|Указывается название филиала.|
|Дата и время создания	|Поле отражает дату и время создания пользователя в системе.|
|Идентификация	|Уникальный номер пользователя в системе, который присваивается автоматически.|
|Наименование	|Наименование пользователя. Иногда может быть такое же, как «Логин».|
|Свойства	|Отражается «Свойства»|
|Таблица	|Указывается «Двоичная»|
|Флаги	|Указывается «Активный» при выборе «Активный» при вводе данных о пользователе|

#### Статус пользователя

Папка «Все пользователи», входящая в состав папки «Администрирование», содержит 2 папки «Активные пользователи» и «Неактивные пользователи». Все пользователи делятся на активные пользователи и неактивные пользователи. Активные пользователи имеют доступ в систему, при заполнении статуса пользователя устанавливается флажок на «Активные» во вкладке или окне «Пользователи системы», а также автоматически отражаются в папке «Активные пользователи». Неактивные пользователи, у которых нет флажка на «Активные» и заблокирован доступ в систему, автоматически попадают в папку «Неактивные пользователи».

### Заключительные действия

###  Ресурсы, расходуемые на операцию

##  Описание операции «Роли»

###  Условия, при соблюдении которых возможно выполнение операции

Для каждого пользователя настраиваются роли пользователя в системе. Для каждой роли подключены определенные клиентские модули, которые имеют определенный ряд возможностей для работы в системе. Любой пользователь может иметь несколько ролей одновременно, а также роли могут быть добавлены пользователю или убраны у пользователя. Для добавления новой роли пользователю необходимо воспользоваться модулем «Роли». При первичном добавлении пользователя вводятся также данные о его ролях в системе, но может возникнуть необходимость о внесение изменений: добавлении или удалении ролей пользователя. Настройка роли вручную производится только разработчиком системы.

###  Подготовительные действия

Для внесения изменений в роли пользователя необходимо открыть папку «Роли», которая находится в той же папке «Администрирование», расположенной в левой половине экрана Панели структуры приложения (Рис. 18).

![18](/uploads/0000004/18.png "18")

###  Основные действия в требуемой последовательности

После открытия папки «Роли» в правой половине экрана Области отображения данных появится вкладка «Роли», которая будет представлена списком ролей (Рис. 18). Если нажать дважды правой клавишей мыши на одной из наведенных ролей, то появится контекстное меню. Для добавления новой роли необходимо нажать пункт «Новый». Для удаления роли – пункт «Удалить» Для просмотра данных о роли пользователя – пункт «Свойства» (Рис. 18).

После нажатия пункта «Новый» контекстного меню (Рис. 18) откроется вкладка выбранной роли, которая будет автоматически вставлена в поле этой вкладки «Наименование» (Рис. 19). Для добавления для выбранной роли нового пользователя необходимо нажать на кнопку ![19](/uploads/0000004/19.png "19") . Появится дополнительное окно «Пользователи», в котором следует выбрать нужного пользователя, который уже ранее был введен в систему, но не имеет этой роли. После выбора пользователя нажать клавишу «Ok». Дополнительное окно «Пользователи» закроется, а во вкладке роли (в представленном варианте «оператор 2 уровня») в списке пользователей будет добавлен новый пользователь, выбранный из дополнительного окна «Пользователи».

![19 1](/uploads/0000004/19-1.png "19 1")

###  Заключительные действия

###  Ресурсы, расходуемые на операцию

##  Описание операции «Клиентские модули»

###  Условия, при соблюдении которых возможно выполнение операции

Клиентские модули связаны с ролями пользователя. На каждую роль пользователя в системе «МедЭксперт-ТФОМС» есть доступные клиентские модули.

###  Подготовительные действия

Для работы с клиентскими модулями необходимо открыть папку «Клиентские модули», которая также находится в папке «Администрирование», расположенной в левой половине экрана Панели структуры приложения (Рис. 20).

![20](/uploads/0000004/20.png "20")

###  Основные действия в требуемой последовательности

После открытия папки «Клиентские модули» в правой половине экрана Области отображения данных появится список клиентских модулей (Рис. 20). Содержание столбцов списка клиентских модулей отображено в Таблице 4.

Содержание столбцов списка клиентских модулей

| Заголовок столбца  | Описание |
| ------------- | ------------- |
|Тип модуля	|Тип модуля в системе «МедЭксперт-ТФОМС» на английском языке|
|Описание	|Текстовое описание модуля, название на русском языке|

Для просмотра модуля необходимо нажать на модуль в списке клиентских модулей в правой половине экрана Области отображения данных. В появившемся контекстном меню следует выбрать пункт «Свойства» (Рис. 20).

Откроется вкладка «CLIENT_MODULES», в котором также будет отображено текстовое описание модуля, его название на русском языке. В приведенном примере вкладка называется «CLIENT_MODULES: Медицинская экспертиза» (Рис. 21). Содержание полей клиентского модуля отображено в Таблице 5.

Содержание полей клиентского модуля

| Поле ввода  | Описание |
| ------------- | ------------- |
|Тип. NET	|Тип модуля в системе «МедЭксперт-ТФОМС» на английском языке. Тип модуля является недоступным для редактирования администратором. Редактирование типа модуля может быть проведено только разработчиком системы.|
|Описание	|Текстовое описание модуля, название на русском языке|
|Приоритет загрузки	|Числовое значение, которое определяет приоритет при загрузке модуля. В данном поле отображается порядковый номер загрузки модуля. (В приведенном примере число – 11)|
|Доступные роли	|Список доступных ролей, которые можно выбрать с помощью галочки (чекбокса)|
|Подключенные роли	|Список подключенных ролей к вышеуказанному модулю. В поле «Доступные роли» эти роли отмечены галочками (чекбоксами)|
|Настройки роли	|Данное поле не является доступным полем для администратора. Редактирование настроек роли может быть проведено только разработчиками системы.|

![21](/uploads/0000004/21.png "21")

###  Заключительные действия

###  Ресурсы, расходуемые на операцию

##  Наименование операции «Настройки прав доступа»

###  Условия, при соблюдении которых возможно выполнение операции.

Для работы пользователя в системе «МедЭксперт-ТФОМС» также необходима настройка прав доступа к сущностям, атрибутам сущности, данным сущности, а также к процессам. Настройку права доступа к процессам не будет рассмотрена, так как ее осуществляет разработчик системы.

###  Подготовительные действия

Для работы с настройкой прав доступа необходимо открыть папку «Настройки прав доступа», которая выделена красным цветом и также находится в папке «Администрирование», расположенной в левой половине экрана Панели структуры приложения (Рис. 22).

![22](/uploads/0000004/22.png "22")

###  Основные действия в требуемой последовательности

#### Для настройки права доступа к сущностям необходимо открыть папку «Права доступа к сущностям», которая выделена красным цветом и расположена в папке «Настройки прав доступа». После этого в Области отображения данных появится вкладка «Права доступа к сущностям». Для создания нового права доступа к сущностям необходимо с помощью правой клавиши мыши в поле списка вкладки «Права доступа к сущностям» открыть контекстное меню, в котором выбрать пункт «Новый», выделенный красным цветом (Рис. 22). После этого откроется новая вкладка в Области отображения данных «Право доступа к сущности (новый)» (Рис. 23).

![23](/uploads/0000004/23.png "23")

В поле «Описание» следует ввести текстовую информацию, описывающую доступ к необходимой сущности. Затем в поле «Сущность» с помощью справочника ![24](/uploads/0000004/24.png "24")  выбрать необходимую сущность, доступ к которой создается. Потом в поле «Доступ» с помощью выпадающего списка ![27](/uploads/0000004/27.png "27")  выбрать необходимое значение «разрешен», также могут быть выбраны значения «запрещен», «только чтение». А в поле «Роли» с помощью флага в списке ролей выбрать необходимые роли, которым будут открыт доступ к этой сущности. После выбора сущности в поле «Сущность» станет активным поле «Условие», в котором появится значение «<ФИЛЬТР НЕ ЗАДАН>». С помощью справочника  ![24](/uploads/0000004/24.png "24") будет открыто дополнительное окно «Текущий фильтр», в котором необходимо настроить нужные фильтры. Настройка фильтров описана в отдельном руководстве пользователя «Конструирование запросов».

#### Для создания права доступа к атрибутам сущности необходимо открыть папку «Права доступа к атрибутам сущности», которая выделена красным цветом и находится в папке «Настройки прав доступа» (Рис. 24).

![25](/uploads/0000004/25.png "25")

После этого в Области отображения данных появится вкладка «Права доступа к атрибутам сущностей» Для создания нового права доступа к атрибутам сущностей необходимо с помощью правой клавиши мыши в поле списка вкладки «Права доступа к атрибутам сущностей» открыть контекстное меню, в котором выбрать пункт «Новый», выделенный красным цветом (Рис. 24). После этого откроется новая вкладка в Области отображения данных «Право доступа к атрибутам сущности (новый)» (Рис. 25).

![26](/uploads/0000004/26.png "26")

В поле «Описание» следует ввести текстовую информацию, описывающую доступ к необходимому атрибуту сущности. Потом в поле «Доступ» с помощью выпадающего списка ![27](/uploads/0000004/27.png "27")  выбрать необходимое значение «разрешен», также могут быть выбраны значения «запрещен», «только чтение». Затем в поле «Роли» с помощью флага в списке ролей выбрать необходимые роли, которым будут открыт доступ к этой сущности. А в поле «Сущность» с помощью справочника ![24](/uploads/0000004/24.png "24") выбрать необходимую сущность, к атрибутам которой необходимо создать доступ. После выбора сущности в поле «Атрибуты» появится список атрибутов этой сущности. В этом списке с помощью флагов следует выбрать нужные атрибуты. Также в поле «Сущность» станет активным поле «Условие», в котором появится значение «<ФИЛЬТР НЕ ЗАДАН>». С помощью справочника ![24](/uploads/0000004/24.png "24")  будет открыто дополнительное окно «Текущий фильтр», в котором необходимо настроить нужные фильтры. Настройка фильтров описана в отдельном руководстве пользователя «Конструирование запросов».

### Заключительные действия

###   Ресурсы, расходуемые на операцию

##  Наименование операции «Группы пользователей»

###  Условия, при соблюдении которых возможно выполнение операции.

Для оптимальной работы пользователей в системе «МедЭксперт-ТФОМС» также необходима группировка пользователей.

###  Подготовительные действия

Для работы с настройкой прав доступа необходимо открыть папку «Группы пользователей», которая выделена красным цветом и также находится в папке «Администрирование», расположенной в левой половине экрана Панели структуры приложения (Рис. 26)

![28](/uploads/0000004/28.png "28")

###  Основные действия в требуемой последовательности

После открытия папки «Группы пользователей» в Области отображения данных появится вкладка «Группы пользователей». Для создания новых групп пользователей необходимо с помощью правой клавиши мыши в поле списка вкладки «Группы пользователей»» открыть контекстное меню, в котором выбрать пункт «Новый», выделенный красным цветом (Рис. 26). После этого откроется новая вкладка в Области отображения данных ««Группы пользователей (новый)» (Рис. 27), в которой будет поле «Наименование» и ниже вкладка «Настройки фильтра». В поле «Наименование» необходимо ввести текстовую информацию о наименовании группы пользователей. А во вкладке «Настройка фильтров» осуществляется настройка фильтров на основании руководства пользователя «Конструирование запросов».

![29](/uploads/0000004/29.png "29")

###  Заключительные действия

###  Ресурсы, расходуемые на операцию

##  Наименование операции «Сущности»

###  Условия, при соблюдении которых возможно выполнение операции

Некоторые определения сущности. «Объект в программировании – это некоторая сущность в компьютерном пространстве, обладающая определённым состоянием и поведением, имеющая заданные значения свойств (атрибутов) и операций над ними (методов)» (Определение в свободной энциклопедии «Википедии» на сайте ru.wikipedia.org). «Сущность - это реальный или представляемый объект, информация о котором должна сохраняться и быть доступна» (Определение в лекции о программировании на сайте http://kuzelenkov.narod.ru). 

Все необходимые сущности с атрибутами созданы в системе. Для создания новой сущности или добавления новых атрибутов к уже имеющейся сущности следует обратиться к Разработчику системы. Для ознакомления и просмотра свойств сущности необходимо открыть папку «Сущности».

###  Подготовительные действия

Для просмотра всех сущностей необходимо открыть папку «Сущности», которая выделена красным цветом и находится в папке «Администрирование», расположенной в левой половине экрана Панели структуры приложения (Рис. 28)

![30](/uploads/0000004/30.png "30")

### Основные действия в требуемой последовательности

После открытия папки «Сущности» в Области отображения данных появится вкладка «Сущности», в которой будут отображены все сущности, которые имеются в системе. Для просмотра сущности необходимо с помощью правой клавиши мыши в поле списка вкладки «Сущности» открыть контекстное меню, в котором выбрать пункт «Свойства», выделенный красным цветом (Рис. 29). После этого откроется новая вкладка в Области отображения данных с названием выбранной сущности (Рис. 30). Для просмотра сущности можно также дважды нажать левой клавишей мыши на выбранной сущности (Рис. 29).

![31](/uploads/0000004/31.png "31")

Все сущности имеют 3 вкладки: «Сущность», «Доступ к атрибутам», «Атрибуты». При открытии сущности автоматически будет представлена вкладка «Сущность». На вкладке сущности имеются следующие поля: «Схема», «Наименование», «Описание», «Первичный ключ», «Базовая сущность», «Отображаемое имя», «Атрибуты отображения», в которые нельзя вносить изменения. Также на вкладке имеется клавиша «Создать таблицу», а внизу вкладка «XML», которая содержит описание XML-файла сущности. В представленной вкладке «Сущности» сущности «ENTITIES» (Сущности метаданных) поля заполнены следующими значениями, которые представлены в Таблице 6.

Содержание полей вкладки «Сущности» сущности «ENTITIES»

| Поле ввода  | Содержание поля |
| ------------- | ------------- |
|Схема	|«Схема – VCLib». Поле «Схема» имеет всего 2 значения, которые могут выбраны с помощью справочника  , который имеет 2 значения: «Схема – VCLib» и «Схема – IES».|
|Наименование	|«ENTITIES», имя сущности – это идентификатор из латинских букв и цифр. Имя сущности должно быть существительным, уникальным в пределах базы данных и мнемонически понятным.|
|Описание	|«Сущность метаданных». Название сущности на русском языке.|
|Первичный ключ	|«EntityID». Под первичным ключом понимают поле таблицы базы данных (атрибут) или набор полей таблицы базы данных (атрибуты), однозначно (уникально) идентифицирующих запись (строку базы данных).|
|Базовая сущность	|В данном случае поле пустое, так как нет базовой сущности для «Сущности метаданных, она сама является базовой сущностью для других сущностей.|
|Отображаемое имя	|{0}|
|Атрибуты отображения	|{EntName}|

![32](/uploads/0000004/32.png "32")

При нажатии на вкладку «Доступ к атрибутам» в Области отображения данных появится в верхней половине вкладка «Скрытые атрибуты» с древовидным списком справа и таблица «Наименование атрибута» слева. В нижней половине Области отображения данных появится список ролей с возможностью выбора ролей, которым будет открыт доступ к атрибутам (Рис. 31).

![33](/uploads/0000004/33.png "33")

При нажатии на вкладку «Атрибуты» откроется ее содержимое в Области отображения данных. В верхней половине вкладки «Атрибуты» представлен список всех атрибутов открытой сущности (в представленном случае сущности «ENTITIES») (Рис. 32). В нижней половине вкладки «Атрибуты» имеются поля для заполнения атрибутов выбранной сущности, которые активируются при добавлении атрибута. В правом верхнем углу вкладки «Атрибуты» выше списка атрибутов имеются кнопки «Добавить» и «Удалить». При нажатии на клавишу «Добавить» будет добавлен в таблицу новый атрибут, при этом поля в нижней половине вкладки «Атрибуты» станут пустыми и активными. Очень важно правильно заполнять поля, в которых должно быть строгое соответствие по типу атрибута, типу данных, правильные ссылки на первичный ключ и необходимую таблицу базу данных, а также другие значения. Для внесения изменений в сущности лучше обратиться к Разработчику системы. 

![34](/uploads/0000004/34.png "34")

Содержание полей вкладки «Атрибуты» сущности «ENTITIES» отображено в Таблице 7. Все поля вкладки «Атрибуты» являются неактивными.

Содержание полей вкладки «Атрибуты» сущности «ENTITIES»

| Поле ввода  | Содержание поля |
| ------------- | ------------- |
|Тип атрибута	|«Attribute». С помощью справочника  ![27](/uploads/0000004/27.png "27") можно выбрать один из атрибутов из выпадающего списка: «Attribute», «Parent», «Child», «Link», «Choice».|
|Наименование	|«EntityID». Уникальное название атрибута в системе.|
|Индекс атрибута	|«10001». Индекс атрибута генерируется автоматически.|
|Описание	|«Идентификатор». Описание атрибута, его название на русском языке.|
|Тип данных	|«int». Выбор с помощью справочника  ![27](/uploads/0000004/27.png "27") из выпадающего списка необходимого значения. Причем каждому атрибуту соответствует свой справочник.|
|Формат по умолчанию	|Пустое поле. Заполняется при необходимости, если требуется для «Типа данных».|
|Количество символов	|Пустое поле. Заполняется при необходимости, если требуется для «Типа данных».|
|Масштаб	Пустое поле. |Заполняется при необходимости, если требуется для «Типа данных».|
|Точность	|Пустое поле. Заполняется при необходимости, если требуется для «Типа данных».|
|Имя атрибута связки	|Пустое поле. Заполняется при необходимости, если требуется для «Типа данных».|
|Обязательное поле	|Поле для постановки флага (выбор «Да» или «Нет»)|
|Битовый чойс	|Поле для постановки флага (выбор «Да» или «Нет»). Активируется при необходимости.|
|Вычислимое	|Поле для постановки флага (выбор «Да» или «Нет»). Активируется при необходимости.|
|Кеширование	|Поле для постановки флага (выбор «Да» или «Нет»). Активируется при необходимости.|
|Добавить	|Кнопка|
|Удалить	|Кнопка|
|Маппирование	|«Колонка». С помощью справочника ![27](/uploads/0000004/27.png "27")  можно выбрать один из атрибутов из выпадающего списка: «Не маппировано», «Колонка», «Функция», «Таблица», «Лексема», «Распределенное».|
|Маппирование на	|«EntityID». Ввод наименования атрибута, на который производится маппирование.|
|Таблица	|«T_ENTITIES». Название таблицы.|
|Ref Таблица	|Пустое поле.|
|Сохранять поле	|Поле для постановки флага (выбор «Да» или «Нет»)|
|Сохранять связанный объект	|Поле для постановки флага (выбор «Да» или «Нет»)|
|Список атрибутов (без названия)	|Кнопка «Добавить» и список атрибутов активируется при выборе «Типа атрибута» «Choice».|
|Настроить лексему	|Кнопка|
|Индекс	|Пустое поле. Справа расположена кнопка «Генерировать»|
|Наименование	|Пустое поле|

### Заключительные действия

###  Ресурсы, расходуемые на операцию

##  Наименование операции «Контексты»

###  Условия, при соблюдении которых возможно выполнение операции

С помощью контекста образуются связи атрибутов разных сущностей. Все необходимые контексты настроены в системе. Для настройки контекстов, переноса имеющихся настроек всем пользователям системы, а также для создания дополнительных контекстов в связи с новыми потребностями пользователя следует обратиться к Разработчику системы. Для этого необходимо определить сущность и контекст формы, значение которой будет переноситься всем локальным клиентам.

###  Подготовительные действия

Для переноса настроек (наличие атрибутов и порядок атрибутов на форме сущности) всем локальным клиентам системы необходимо определить сущность и контекст формы, значения которой будет переноситься. Для этого необходимо выбрать необходимую форму сущности, например «Счет-реестр». Затем последовательно нужно открыть папку «Счета-реестры» Панели структуры приложения и папку «Территориальные счета-реестры», вложенную в первую папку и выделенную красным цветом (Рис. 33). При этом откроется вкладка «Счета-реестры» в Области отображения данных. 

![35](/uploads/0000004/35.png "35")

Для продолжения работы требуется также открыть папку «Собственные контексты», выделенную красным цветом (Рис. 34). Для этого следует последовательно открыть вложенные папки «Администрирование», «Контексты», «Собственные контексты» Панели структуры приложения. При этом откроется вкладка «Собственные контексты» Области отображения данных.

![36](/uploads/0000004/36.png "36")

### Основные действия в требуемой последовательности

Во вкладке «Счета-реестры» Области отображения данных следует нажать на наименование любого атрибута, расположенного внизу этой вкладки ([порядок открытия вкладки «Счета-реестры» описан в разделе 4.9.2](#m4)). В приведенном примере выбрано название атрибута «Номер счета», выделено красным цветом (Рис. 33). В открывшемся контекстном меню необходимо нажать на пункт «Выбрать атрибуты…», который выделен красным цветом (Рис. 33). При этом откроется форма настройки атрибутов - дополнительное окно «Счет-реестр|operator» (Рис. 35). Наименование сущности «Счет-реестр» и контекста «operator» будет служить ключами при указании переноса необходимой формы по локальным клиентам системы.

Изменение настройки атрибутов может быть произведено с помощью кнопок, выделенных красным цветом (Рис. 35). При нажатии на 1 стрелку будет перенесен 1 атрибут в указанном направлении, а при нажатии на 2 стрелки будут перенесены все атрибуты в указанном направлении. Однако вопрос переноса атрибутов необходимо согласовать с Разработчиком системы, так как может привести к нарушению функциональности системы.

![37](/uploads/0000004/37.png "37")

После определения сущности и контекста переносимых данных, необходимо найти нужный контекст во вкладке «Собственные контексты» Области отображения данных, выделенный красным цветом (Рис. 34). Затем нажать на выбранном контексте правой клавишей мыши или дважды левой клавишей мыши. В открывшем контекстном меню выбрать пункт «Установить по умолчанию» (Рис. 34). После завершения работы необходимо перезапустить все локальные клиенты для вступления в силу данных изменений.

###  Заключительные действия

###  Ресурсы, расходуемые на операцию

##  Наименование операции «Расширение пользовательских форм»

###  Условия, при соблюдении которых возможно выполнение операции

Для добавления поля на форме пользовательского интерфейса можно воспользоваться расширением пользовательских форм. Для этого необходимо, чтобы у сущности был тот самый атрибут, значение которого нужно добавить новым полем на форме пользовательского интерфейса.

###  Подготовительные действия

Таким образом, для расширения пользовательского интерфейса добавлением необходимого поля должно быть наличие соответствующего атрибута у сущности. [Создание атрибута сущности описано в разделе 4.8.3.](#m5) Далее необходимо последовательно открыть папку «Администрирование», а затем папку «Расширение пользовательских форм» Панели структуры приложения (Рис. 36). Откроется вкладка «Расширение пользовательских форм» в Области отображения данных.

![38](/uploads/0000004/38.png "38")

### Основные действия в требуемой последовательности

Для добавления дополнительного поля с помощью расширения пользовательских форм на открытой вкладке «Расширение пользовательских форм» Области отображения данных следует выбрать нужную пользовательскую форму в отображаемом списке пользовательских форм. Для открытия выбранной пользовательской формы необходимо дважды нажать левой клавишей мыши на строке этой формы или нажать правой клавишей мыши на строке этой формы, а затем в появившемся контекстном меню нажать на пункт «Свойства» (Рис. 36). Откроется вкладка «Расширение функционала формы (с уникальным идентификационным указателем этой формы в системе)» (Рис. 37).

![39](/uploads/0000004/39.png "39")

На вкладке «Расширение функционала формы» имеется 2 вкладки «Общее» и «Доступ» (Рис. 37). Автоматически при открытии вкладки «Расширение функционала формы» на Области отображения данных представляется вкладка «Общее». В верхней половине вкладки «Общее» вкладки «Расширение функционала формы» есть поля «Отображать на сущности», «С контекстом», «Наименование вкладки», «Контейнер вкладки», «Порядковый номер вкладки», которые уже заполнены ранее. В середине вышеуказанной вкладки имеется список добавленных атрибутов, который так и называется «Добавленные атрибуты». Справа и выше этого списка есть 2 кнопки «Добавить» и «Удалить». В нижней половине этой вкладки расположены следующие поля: «Атрибут» с расположенной справа от него кнопкой «Указать атрибут», «Описание», «Приоритет» и «Редактирование».

Для добавления поля в имеющуюся пользовательскую форму следует нажать на кнопку «Добавить» вкладки «Общее» или активировать поле списка пользовательских форм нажатием левой клавишей мыши и нажать клавишу «Insert» на клавиатуре. При этом будет добавлена строка в список «Добавленные атрибуты», выделенная красным цветом, и появится дополнительное окно «Укажите атрибут» (Рис. 38).

![40](/uploads/0000004/40.png "40")

Затем необходимо выбрать нужный атрибут из представленного списка атрибутов в дополнительном окне «Укажите атрибут» и нажать кнопку «Ok». При этом в список «Добавленные атрибуты» будут добавлены значения атрибута, которые выделены красным цветом (Рис. 39). А также будут заполнены поля атрибута, расположенные в нижней половине вкладки «Расширение функционала формы» и выделенные красным цветом (Рис. 39).

![41](/uploads/0000004/41.png "41")

Для расширения доступа к форме необходимо открыть вкладку «Доступ» вкладки «Расширение функционала формы», а затем с помощью флага выбрать необходимые роли в появившемся списке ролей пользователя (Рис. 40).

![42](/uploads/0000004/42.png "42")

Для добавления новой пользовательской формы пользователя следует на открытой вкладке «Расширение пользовательских форм» в появившемся контекстном меню выбрать пункт «Новый» (Рис. 36). Откроется новая вкладка «Расширение функционала формы (новый)», в которой необходимо заполнить все вышеуказанные поля.

После завершения работы необходимо перезапустить все локальные клиенты для вступления в силу данных изменений.

###  Заключительные действия

###  Ресурсы, расходуемые на операцию 

# Аварийные ситуации. Восстановление Системы
## 	Действия в случае несоблюдения условий выполнения технологического процесса, в том числе при длительных отказах технических средств

###  Соединение с сервером не может быть установлено. Восстановление системы.

Если при запуске системы выводится сообщение «Соединение с сервером не может быть установлено», необходимо проверить:
1.	Соединение по локальной сети.
Для этого с локального компьютера следует проверить соединение до сервера приложение через вывод командной строки:
«Пуск»-«Выполнить»-cmd-OK-ping <IPсервера приложения>-INTER
В случае отсутствия соединения по локальной сети необходимо восстановить соединение.

2.	IP адрес сервера приложений
Если соединение по локальной сети присутствует, следует проверить IP адрес в config файле.
По умолчанию он стоит:
C:\Program Files\Vitacore\IES Client\IES.UserArm.exe
C:\Program Files\Vitacore\IES Client\Update\IES.UpdateUtility

3.	Службы 
Если IP адрес сервера приложений указан правильно, необходимо проверить на сервере работоспособность таких служб, как IESServer и MSSQLSERVER. В случае если службы стоят в статусе «отключен», то следует запустить их.

###  Версия клиентской части отличается от версии серверной части.

Чтобы проверить версию клиентской части и серверной, необходимо зайти на главной панели задач основного окна системы «Медэксперт-ТФОМС» «Справка - О программе - Версия клиента - Версия сервера».

Если версия клиента и сервера отличаются, следует выполнить следующее:
1.	Перезапустить клиентскую часть системы «МедЭксперт-ТФОМС», обновленная версия клиента встанет автоматически.
2.	В случае, когда обновление клиентской части не произошло, следует проверить в Службах на локальном компьютере, где установлена клиентская часть системы «МедЭксперт-ТФОМС» (IES.UserArm.exe) и запущена ли служба IES.UpdateUtility.
Если служба не запущена, то следует запустить ее.

## 	Действия по восстановлению программ и/или данных при отказе магнитных носителей или обнаружении ошибок в данных

## 	Действия в случаях обнаружения несанкционированного вмешательства в данные

## Действия в других аварийных ситуациях

# 	Рекомендации по освоению

Для успешного освоения подсистемы необходимо изучить документы, [приведенные в п. 1.6 настоящего руководства](#m6), а также данное руководство. При освоении материала особенно следует обратить внимание на руководство пользователя «Конструктруирование запросов», на основании которого настраиваются все необходимые фильтры.

